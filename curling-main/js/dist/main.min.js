"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}jQuery(document).ready(function(o){jQuery.fn.curlingNav=function(i){return this.each(function(){var e=jQuery(this),t=e.data("curling.nav");t||e.hasClass("js-curling-nav-init")||(t=new n(e,"object"==_typeof(i)&&i),e.data("curling.nav",t))})};var n=function e(t,i){_classCallCheck(this,e),this.element=t,this.menuItems=this.element.find(".nav-menu-primary .menu-item"),this.menuItems.each(function(e,t){var i=o(t),n=i.data("menu"),a=o(".nav-menu-popup[data-name='".concat(n,"']"));i.add(".nav-menu-popup[data-name='".concat(n,"']")).mouseenter(function(){i.addClass("active"),a.addClass("active")}).mouseleave(function(){i.removeClass("active"),a.removeClass("active")})})};jQuery.fn.curlingNav.Constructor=n}),jQuery(document).ready(function(a){jQuery.fn.curlingNavMobile=function(i){return this.each(function(){var e=jQuery(this),t=e.data("curling.mobilenav");t||e.hasClass("js-curling-mobilenav-init")||(t=new n(e,"object"==_typeof(i)&&i),e.data("curling.mobilenav",t))})};var n=function e(t,i){var n=this;_classCallCheck(this,e),_defineProperty(this,"showPopupMobile",function(e){var t=n.element.find('.js-cta-popout-mobile[data-id="'+e+'"]');return 0<t.length&&(t.addClass("active"),!0)}),_defineProperty(this,"hidePopupsMobile",function(){a(".js-cta-popout-mobile").each(function(e,t){a(t).removeClass("active")})}),this.element=t,this.topMenu=this.element.find(".js-cta-topmenu-mobile"),this.hamburger=this.element.find(".js-cta-menu-mobile-hamburger"),this.menuLists=this.element.find(".js-cta-menu-list-mobile"),this.popouts=this.element.find(".js-cta-popout-mobile"),this.hamburger.click(function(){n.topMenu.toggleClass("active"),n.topMenu.hasClass("active")?(n.hidePopupsMobile(),n.showPopupMobile(0)):n.hidePopupsMobile()}),this.menuLists.each(function(e,t){var i=a(t);i.find(".js-cta-menu-item-mobile").click(function(){i.toggleClass("active")})}),this.menuLists.each(function(e,t){a(t).find(".js-cta-menu-subitem-mobile").click(function(e){var t=a(e.currentTarget).data("id");n.hidePopupsMobile(),n.showPopupMobile(t)||n.topMenu.removeClass("active")})}),this.popouts.each(function(e,t){var i=a(t);i.find(".js-cta-subnav-back").click(function(e){a(e.currentTarget);var t=i.data("parent");n.hidePopupsMobile(),n.showPopupMobile(t)})})};jQuery.fn.curlingNavMobile.Constructor=n}),jQuery(document).ready(function(e){jQuery.fn.mediaPlayer=function(i){return this.each(function(){var e=jQuery(this),t=e.data("media.player");t||e.hasClass("js-hero-container-init")||(t=new n(e,"object"==_typeof(i)&&i),e.data("media.player",t))})};var n=function e(t,i){var n=this;_classCallCheck(this,e),this.mediaPlayer=t,this.videoPlayer=this.mediaPlayer.find(".js-video-player"),this.videoBtnPlay=this.videoPlayer.find(".js-btn-play"),this.video=this.videoPlayer.find(".js-video"),this.videoOverlay=this.videoPlayer.find(".js-video-overlay"),this.content=this.mediaPlayer.find(".js-hero-content"),this.videoOverlay&&!this.videoOverlay.hasClass("hidden")&&this.videoOverlay.addClass("hidden"),0<this.video.length?this.video=this.video[0]:this.video=null,this.videoPlayer&&this.video&&this.videoPlayer.click(function(){n.video.paused?(n.video.play(),n.videoBtnPlay&&n.videoBtnPlay.addClass("hidden"),n.videoOverlay&&n.videoOverlay.addClass("hidden"),n.content&&n.content.addClass("hidden")):(n.video.pause(),n.videoBtnPlay&&n.videoBtnPlay.removeClass("hidden"),n.videoOverlay&&n.videoOverlay.removeClass("hidden"),n.content&&n.content.removeClass("hidden"))})};jQuery.fn.mediaPlayer.Constructor=n}),jQuery(document).ready(function(e){e.fn.blockHeroTimer=function(i){return this.each(function(){var e=jQuery(this),t=e.data("curling.block-hero-timer");t||e.hasClass("js-block-hero-timer-init")||(t=new n(e,"object"==_typeof(i)&&i),e.data("curling.block-hero-timer",t))})};var n=function e(t,i){var r=this;_classCallCheck(this,e),_defineProperty(this,"updateTime",function(e){var t=(e-new Date)/1e3,i=Math.floor(t/86400),n=Math.floor((t-86400*i)/3600),a=Math.floor((t-86400*i-3600*n)/60),o=Math.floor(t-86400*i-3600*n-60*a);r.element.find(".js-days").text(i),r.element.find(".js-hours").text(n),r.element.find(".js-minutes").text(a),r.element.find(".js-seconds").text(o)}),_defineProperty(this,"inDays",function(e,t){var i=t.getTime(),n=e.getTime();return parseInt((i-n)/864e5)}),_defineProperty(this,"inWeeks",function(e,t){var i=t.getTime(),n=e.getTime();return parseInt((i-n)/6048e5)}),_defineProperty(this,"inMonths",function(e,t){var i=e.getFullYear(),n=t.getFullYear(),a=e.getMonth();return t.getMonth()+12*n-(a+12*i)}),_defineProperty(this,"inYears",function(e,t){return t.getFullYear()-e.getFullYear()}),this.element=t;var n=this.element.data("date"),a=new Date,o=new Date(1e3*n);0<o-a&&(this.updateTime(o),window.setInterval(function(){r.updateTime(o)},1e3))};jQuery.fn.blockHeroTimer.Constructor=n}),jQuery(document).ready(function(e){e(".js-curling-nav").curlingNav(),e(".js-curling-nav-mobile").curlingNavMobile(),e(".js-hero-container").mediaPlayer(),e(".block-timer").blockHeroTimer()});

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5taW4uanMiLCJzb3VyY2VzIjpbImpzL3RlbXBsYXRlcy9DdXJsaW5nTmF2LmpzIiwianMvdGVtcGxhdGVzL0N1cmxpbmdOYXZNb2JpbGUuanMiLCJqcy90ZW1wbGF0ZXMvVmlkZW9QbGF5ZXIuanMiLCJqcy9ibG9ja3MvYmxvY2stdGltZXIuanMiLCJqcy9tYWluLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImpRdWVyeShkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oJCkge1xuICBqUXVlcnkuZm4uY3VybGluZ05hdiA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgJHRoaXMgPSBqUXVlcnkodGhpcyksXG4gICAgICAgICAgICBkYXRhID0gJHRoaXMuZGF0YSgnY3VybGluZy5uYXYnKTtcblxuICAgICAgICBpZiAoIWRhdGEgJiYgISR0aGlzLmhhc0NsYXNzKCdqcy1jdXJsaW5nLW5hdi1pbml0JykpIHtcbiAgICAgICAgICAgIGRhdGEgPSBuZXcgQ3VybGluZ05hdigkdGhpcywgdHlwZW9mIG9wdGlvbnMgPT0gJ29iamVjdCcgJiYgb3B0aW9ucyk7XG4gICAgICAgICAgICAkdGhpcy5kYXRhKCdjdXJsaW5nLm5hdicsIGRhdGEpO1xuICAgICAgICB9XG4gICAgfSk7XG4gIH1cblxuXG4gIGNsYXNzIEN1cmxpbmdOYXYge1xuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICB0aGlzLm1lbnVJdGVtcyA9IHRoaXMuZWxlbWVudC5maW5kKCcubmF2LW1lbnUtcHJpbWFyeSAubWVudS1pdGVtJyk7XG5cbiAgICAgIHRoaXMubWVudUl0ZW1zLmVhY2goKGluZGV4LCBlbGVtZW50KSA9PiB7XG4gICAgICAgIGNvbnN0ICR0aGlzID0gJChlbGVtZW50KTtcbiAgICAgICAgY29uc3QgbWVudV9uYW1lID0gJHRoaXMuZGF0YSgnbWVudScpO1xuICAgICAgICBjb25zdCAkcG9wdXAgPSAkKGAubmF2LW1lbnUtcG9wdXBbZGF0YS1uYW1lPScke21lbnVfbmFtZX0nXWApO1xuICAgICAgICBjb25zdCAkbXVsdGkgPSAkdGhpcy5hZGQoYC5uYXYtbWVudS1wb3B1cFtkYXRhLW5hbWU9JyR7bWVudV9uYW1lfSddYCk7XG4gICAgICAgICRtdWx0aS5tb3VzZWVudGVyKCgpID0+IHtcbiAgICAgICAgICAgICR0aGlzLmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgICAgICRwb3B1cC5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgIH0pLm1vdXNlbGVhdmUoKCkgPT4ge1xuICAgICAgICAgICAgJHRoaXMucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgJHBvcHVwLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgXG4gIGpRdWVyeS5mbi5jdXJsaW5nTmF2LkNvbnN0cnVjdG9yID0gQ3VybGluZ05hdjtcbn0pOyIsImpRdWVyeShkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oJCkge1xuICBqUXVlcnkuZm4uY3VybGluZ05hdk1vYmlsZSA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgJHRoaXMgPSBqUXVlcnkodGhpcyksXG4gICAgICAgICAgICBkYXRhID0gJHRoaXMuZGF0YSgnY3VybGluZy5tb2JpbGVuYXYnKTtcblxuICAgICAgICBpZiAoIWRhdGEgJiYgISR0aGlzLmhhc0NsYXNzKCdqcy1jdXJsaW5nLW1vYmlsZW5hdi1pbml0JykpIHtcbiAgICAgICAgICAgIGRhdGEgPSBuZXcgQ3VybGluZ05hdk1vYmlsZSgkdGhpcywgdHlwZW9mIG9wdGlvbnMgPT0gJ29iamVjdCcgJiYgb3B0aW9ucyk7XG4gICAgICAgICAgICAkdGhpcy5kYXRhKCdjdXJsaW5nLm1vYmlsZW5hdicsIGRhdGEpO1xuICAgICAgICB9XG4gICAgfSk7XG4gIH1cblxuXG4gIGNsYXNzIEN1cmxpbmdOYXZNb2JpbGUge1xuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICB0aGlzLnRvcE1lbnUgPSB0aGlzLmVsZW1lbnQuZmluZCgnLmpzLWN0YS10b3BtZW51LW1vYmlsZScpO1xuICAgICAgdGhpcy5oYW1idXJnZXIgPSB0aGlzLmVsZW1lbnQuZmluZCgnLmpzLWN0YS1tZW51LW1vYmlsZS1oYW1idXJnZXInKTtcblxuICAgICAgdGhpcy5tZW51TGlzdHMgPSB0aGlzLmVsZW1lbnQuZmluZCgnLmpzLWN0YS1tZW51LWxpc3QtbW9iaWxlJyk7XG4gICAgICB0aGlzLnBvcG91dHMgPSB0aGlzLmVsZW1lbnQuZmluZCgnLmpzLWN0YS1wb3BvdXQtbW9iaWxlJylcblxuICAgICAgdGhpcy5oYW1idXJnZXIuY2xpY2soKCkgPT4ge1xuICAgICAgICB0aGlzLnRvcE1lbnUudG9nZ2xlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICBpZiAodGhpcy50b3BNZW51Lmhhc0NsYXNzKCdhY3RpdmUnKSkge1xuICAgICAgICAgIHRoaXMuaGlkZVBvcHVwc01vYmlsZSgpO1xuICAgICAgICAgIHRoaXMuc2hvd1BvcHVwTW9iaWxlKDApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuaGlkZVBvcHVwc01vYmlsZSgpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgdGhpcy5tZW51TGlzdHMuZWFjaCgoaW5kZXgsIGVsZW1lbnQpID0+IHtcbiAgICAgICAgICBjb25zdCAkdGhpcyA9ICQoZWxlbWVudCk7XG4gICAgICAgICAgJHRoaXMuZmluZCgnLmpzLWN0YS1tZW51LWl0ZW0tbW9iaWxlJykuY2xpY2soKCkgPT4ge1xuICAgICAgICAgICAgICAkdGhpcy50b2dnbGVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICAgfSlcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLm1lbnVMaXN0cy5lYWNoKChpbmRleCwgZWxlbWVudCkgPT4ge1xuICAgICAgICBjb25zdCAkdGhpcyA9ICQoZWxlbWVudCk7XG4gICAgICAgICR0aGlzLmZpbmQoJy5qcy1jdGEtbWVudS1zdWJpdGVtLW1vYmlsZScpLmNsaWNrKChlKSA9PiB7XG4gICAgICAgICAgY29uc3QgJHRhcmdldCA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcbiAgICAgICAgICBjb25zdCBpZCA9ICR0YXJnZXQuZGF0YSgnaWQnKTtcbiAgICAgICAgICB0aGlzLmhpZGVQb3B1cHNNb2JpbGUoKTtcbiAgICAgICAgICBpZiAoIXRoaXMuc2hvd1BvcHVwTW9iaWxlKGlkKSkge1xuICAgICAgICAgICAgdGhpcy50b3BNZW51LnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICB9KTtcblxuICAgICAgdGhpcy5wb3BvdXRzLmVhY2goKGluZGV4LCBlbGVtZW50KSA9PiB7XG4gICAgICAgIGNvbnN0ICR0aGlzID0gJChlbGVtZW50KTtcbiAgICAgICAgJHRoaXMuZmluZCgnLmpzLWN0YS1zdWJuYXYtYmFjaycpLmNsaWNrKChlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCAkdGFyZ2V0ID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuICAgICAgICAgICAgY29uc3QgaWQgPSAkdGhpcy5kYXRhKCdwYXJlbnQnKTtcbiAgICAgICAgICAgIHRoaXMuaGlkZVBvcHVwc01vYmlsZSgpO1xuICAgICAgICAgICAgdGhpcy5zaG93UG9wdXBNb2JpbGUoaWQpO1xuICAgICAgICB9KVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgc2hvd1BvcHVwTW9iaWxlID0gKGlkKSA9PiB7XG4gICAgICBjb25zdCBwb3B1cHMgPSB0aGlzLmVsZW1lbnQuZmluZCgnLmpzLWN0YS1wb3BvdXQtbW9iaWxlW2RhdGEtaWQ9XCInICsgaWQgKyAnXCJdJyk7XG4gICAgICBpZiAocG9wdXBzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcG9wdXBzLmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICBcbiAgICBoaWRlUG9wdXBzTW9iaWxlID0gKCkgPT4ge1xuICAgICAgJCgnLmpzLWN0YS1wb3BvdXQtbW9iaWxlJykuZWFjaCgoaW5kZXgsIGVsZW1lbnQpID0+IHtcbiAgICAgICAgICBjb25zdCAkdGhpcyA9ICQoZWxlbWVudCk7XG4gICAgICAgICAgJHRoaXMucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIFxuICBqUXVlcnkuZm4uY3VybGluZ05hdk1vYmlsZS5Db25zdHJ1Y3RvciA9IEN1cmxpbmdOYXZNb2JpbGU7XG59KTtcbiIsImpRdWVyeShkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oJCkge1xuICBqUXVlcnkuZm4ubWVkaWFQbGF5ZXIgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyICR0aGlzID0galF1ZXJ5KHRoaXMpLFxuICAgICAgICAgICAgZGF0YSA9ICR0aGlzLmRhdGEoJ21lZGlhLnBsYXllcicpO1xuXG4gICAgICAgIGlmICghZGF0YSAmJiAhJHRoaXMuaGFzQ2xhc3MoJ2pzLWhlcm8tY29udGFpbmVyLWluaXQnKSkge1xuICAgICAgICAgICAgZGF0YSA9IG5ldyBWaWRlb1BsYXllcigkdGhpcywgdHlwZW9mIG9wdGlvbnMgPT0gJ29iamVjdCcgJiYgb3B0aW9ucyk7XG4gICAgICAgICAgICAkdGhpcy5kYXRhKCdtZWRpYS5wbGF5ZXInLCBkYXRhKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICB9XG5cblxuICBjbGFzcyBWaWRlb1BsYXllciB7XG4gICAgY29uc3RydWN0b3IoZWxlbWVudCwgb3B0aW9ucykge1xuICAgICAgdGhpcy5tZWRpYVBsYXllciA9IGVsZW1lbnQ7XG4gICAgICB0aGlzLnZpZGVvUGxheWVyID0gdGhpcy5tZWRpYVBsYXllci5maW5kKCcuanMtdmlkZW8tcGxheWVyJyk7XG4gICAgICB0aGlzLnZpZGVvQnRuUGxheSA9IHRoaXMudmlkZW9QbGF5ZXIuZmluZCgnLmpzLWJ0bi1wbGF5Jyk7XG4gICAgICB0aGlzLnZpZGVvID0gdGhpcy52aWRlb1BsYXllci5maW5kKCcuanMtdmlkZW8nKTtcbiAgICAgIHRoaXMudmlkZW9PdmVybGF5ID0gdGhpcy52aWRlb1BsYXllci5maW5kKCcuanMtdmlkZW8tb3ZlcmxheScpO1xuICAgICAgdGhpcy5jb250ZW50ID0gdGhpcy5tZWRpYVBsYXllci5maW5kKCcuanMtaGVyby1jb250ZW50Jyk7XG5cbiAgICAgIGlmICh0aGlzLnZpZGVvT3ZlcmxheSAmJiAhdGhpcy52aWRlb092ZXJsYXkuaGFzQ2xhc3MoJ2hpZGRlbicpKSB7XG4gICAgICAgIHRoaXMudmlkZW9PdmVybGF5LmFkZENsYXNzKCdoaWRkZW4nKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMudmlkZW8ubGVuZ3RoID4gMCkge1xuICAgICAgICB0aGlzLnZpZGVvID0gdGhpcy52aWRlb1swXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMudmlkZW8gPSBudWxsO1xuICAgICAgfVxuICAgICAgXG4gICAgICBpZiAodGhpcy52aWRlb1BsYXllciAmJiB0aGlzLnZpZGVvKSB7XG4gICAgICAgIHRoaXMudmlkZW9QbGF5ZXIuY2xpY2soKCkgPT4ge1xuICAgICAgICAgIGlmICh0aGlzLnZpZGVvLnBhdXNlZCkge1xuICAgICAgICAgICAgdGhpcy52aWRlby5wbGF5KCk7XG4gICAgICAgICAgICBpZiAodGhpcy52aWRlb0J0blBsYXkpIHtcbiAgICAgICAgICAgICAgdGhpcy52aWRlb0J0blBsYXkuYWRkQ2xhc3MoJ2hpZGRlbicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMudmlkZW9PdmVybGF5KSB7XG4gICAgICAgICAgICAgIHRoaXMudmlkZW9PdmVybGF5LmFkZENsYXNzKCdoaWRkZW4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmNvbnRlbnQpIHtcbiAgICAgICAgICAgICAgdGhpcy5jb250ZW50LmFkZENsYXNzKCdoaWRkZW4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy52aWRlby5wYXVzZSgpO1xuICAgICAgICAgICAgaWYgKHRoaXMudmlkZW9CdG5QbGF5KSB7XG4gICAgICAgICAgICAgIHRoaXMudmlkZW9CdG5QbGF5LnJlbW92ZUNsYXNzKCdoaWRkZW4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLnZpZGVvT3ZlcmxheSkge1xuICAgICAgICAgICAgICB0aGlzLnZpZGVvT3ZlcmxheS5yZW1vdmVDbGFzcygnaGlkZGVuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5jb250ZW50KSB7XG4gICAgICAgICAgICAgIHRoaXMuY29udGVudC5yZW1vdmVDbGFzcygnaGlkZGVuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgXG4gIGpRdWVyeS5mbi5tZWRpYVBsYXllci5Db25zdHJ1Y3RvciA9IFZpZGVvUGxheWVyO1xufSk7IiwialF1ZXJ5KGRvY3VtZW50KS5yZWFkeSgoJCkgPT4ge1xuICAkLmZuLmJsb2NrSGVyb1RpbWVyID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgIGNvbnN0ICR0aGlzID0galF1ZXJ5KHRoaXMpO1xuICAgICAgICBsZXQgZGF0YSA9ICR0aGlzLmRhdGEoJ2N1cmxpbmcuYmxvY2staGVyby10aW1lcicpO1xuXG4gICAgICAgIGlmICghZGF0YSAmJiAhJHRoaXMuaGFzQ2xhc3MoJ2pzLWJsb2NrLWhlcm8tdGltZXItaW5pdCcpKSB7XG4gICAgICAgICAgICBkYXRhID0gbmV3IEJsb2NrSGVyb1RpbWVyKCR0aGlzLCB0eXBlb2Ygb3B0aW9ucyA9PSAnb2JqZWN0JyAmJiBvcHRpb25zKTtcbiAgICAgICAgICAgICR0aGlzLmRhdGEoJ2N1cmxpbmcuYmxvY2staGVyby10aW1lcicsIGRhdGEpO1xuICAgICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBjbGFzcyBCbG9ja0hlcm9UaW1lciB7XG4gICAgY29uc3RydWN0b3IoZWxlbWVudCwgb3B0aW9ucykge1xuICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICAgIFxuICAgICAgY29uc3QgdW5peFRpbWUgPSB0aGlzLmVsZW1lbnQuZGF0YSgnZGF0ZScpO1xuXG4gICAgICBjb25zdCBjdXJyZW50ID0gbmV3IERhdGUoKTtcbiAgICAgIGNvbnN0IHN0YXJ0ID0gbmV3IERhdGUodW5peFRpbWUgKiAxMDAwKTtcblxuICAgICAgaWYgKHN0YXJ0IC0gY3VycmVudCA+IDApIHtcbiAgICAgICAgdGhpcy51cGRhdGVUaW1lKHN0YXJ0KTtcbiAgICAgICAgd2luZG93LnNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVGltZShzdGFydCk7XG4gICAgICAgIH0sIDEwMDApO1xuICAgICAgfVxuICAgIH1cblxuICB1cGRhdGVUaW1lID0gKHN0YXJ0KSA9PiB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnQgPSBuZXcgRGF0ZSgpO1xuICAgICAgICBjb25zdCB0b3RhbHNlY29uZHMgPSAoc3RhcnQgLSBjdXJyZW50KSAvIDEwMDA7XG4gICAgICAgIGNvbnN0IGRheXMgPSBNYXRoLmZsb29yKHRvdGFsc2Vjb25kcyAvICgzNjAwICogMjQpKTtcbiAgICAgICAgY29uc3QgaG91cnMgPSBNYXRoLmZsb29yKCh0b3RhbHNlY29uZHMgLSAoZGF5cyAqICgzNjAwICogMjQpKSkgLyAzNjAwKTtcbiAgICAgICAgY29uc3QgbWludXRlcyA9IE1hdGguZmxvb3IoKHRvdGFsc2Vjb25kcyAtIChkYXlzICogKDM2MDAgKiAyNCkpIC0gKGhvdXJzICogMzYwMCkpIC8gNjApO1xuICAgICAgICBjb25zdCBzZWNvbmRzID0gTWF0aC5mbG9vcih0b3RhbHNlY29uZHMgLSAoZGF5cyAqICgzNjAwICogMjQpKSAtIChob3VycyAqIDM2MDApIC0gKG1pbnV0ZXMgKiA2MCkpO1xuXG4gICAgICAgIHRoaXMuZWxlbWVudC5maW5kKCcuanMtZGF5cycpLnRleHQoZGF5cyk7XG4gICAgICAgIHRoaXMuZWxlbWVudC5maW5kKCcuanMtaG91cnMnKS50ZXh0KGhvdXJzKTtcbiAgICAgICAgdGhpcy5lbGVtZW50LmZpbmQoJy5qcy1taW51dGVzJykudGV4dChtaW51dGVzKTtcbiAgICAgICAgdGhpcy5lbGVtZW50LmZpbmQoJy5qcy1zZWNvbmRzJykudGV4dChzZWNvbmRzKTtcbiAgICB9XG5cbiAgICBpbkRheXMgPSAoZDEsIGQyKSA9PiB7XG4gICAgICB2YXIgdDIgPSBkMi5nZXRUaW1lKCk7XG4gICAgICB2YXIgdDEgPSBkMS5nZXRUaW1lKCk7XG5cbiAgICAgIHJldHVybiBwYXJzZUludCgodDItdDEpLygyNCozNjAwKjEwMDApKTtcbiAgICB9XG5cbiAgICBpbldlZWtzID0gKGQxLCBkMikgPT4ge1xuICAgICAgICB2YXIgdDIgPSBkMi5nZXRUaW1lKCk7XG4gICAgICAgIHZhciB0MSA9IGQxLmdldFRpbWUoKTtcblxuICAgICAgICByZXR1cm4gcGFyc2VJbnQoKHQyLXQxKS8oMjQqMzYwMCoxMDAwKjcpKTtcbiAgICB9XG5cbiAgICBpbk1vbnRocyA9IChkMSwgZDIpID0+IHtcbiAgICAgICAgdmFyIGQxWSA9IGQxLmdldEZ1bGxZZWFyKCk7XG4gICAgICAgIHZhciBkMlkgPSBkMi5nZXRGdWxsWWVhcigpO1xuICAgICAgICB2YXIgZDFNID0gZDEuZ2V0TW9udGgoKTtcbiAgICAgICAgdmFyIGQyTSA9IGQyLmdldE1vbnRoKCk7XG5cbiAgICAgICAgcmV0dXJuIChkMk0rMTIqZDJZKS0oZDFNKzEyKmQxWSk7XG4gICAgfVxuXG4gICAgaW5ZZWFycyA9IChkMSwgZDIpID0+IHtcbiAgICAgICAgcmV0dXJuIGQyLmdldEZ1bGxZZWFyKCktZDEuZ2V0RnVsbFllYXIoKTtcbiAgICB9XG4gIH1cbiAgXG4gIGpRdWVyeS5mbi5ibG9ja0hlcm9UaW1lci5Db25zdHJ1Y3RvciA9IEJsb2NrSGVyb1RpbWVyO1xufSk7XG4iLCJpbXBvcnQgJy4vdGVtcGxhdGVzL0N1cmxpbmdOYXYuanMnO1xuaW1wb3J0ICcuL3RlbXBsYXRlcy9DdXJsaW5nTmF2TW9iaWxlLmpzJztcbmltcG9ydCAnLi90ZW1wbGF0ZXMvVmlkZW9QbGF5ZXIuanMnO1xuXG4vLyBpbXBvcnQgJy4vYmxvY2tzL3Rlc3QuanMnO1xuXG5pbXBvcnQgJy4vYmxvY2tzL2Jsb2NrLXRpbWVyLmpzJztcblxualF1ZXJ5KGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigkKSB7XG4gICQoJy5qcy1jdXJsaW5nLW5hdicpLmN1cmxpbmdOYXYoKTtcbiAgJCgnLmpzLWN1cmxpbmctbmF2LW1vYmlsZScpLmN1cmxpbmdOYXZNb2JpbGUoKTtcblxuICAkKCcuanMtaGVyby1jb250YWluZXInKS5tZWRpYVBsYXllcigpO1xuXG4gICQoJy5ibG9jay10aW1lcicpLmJsb2NrSGVyb1RpbWVyKCk7XG59KTtcbiJdLCJuYW1lcyI6WyJqUXVlcnkiLCJkb2N1bWVudCIsInJlYWR5IiwiJCIsImZuIiwiY3VybGluZ05hdiIsIm9wdGlvbnMiLCJ0aGlzIiwiZWFjaCIsIiR0aGlzIiwiZGF0YSIsImhhc0NsYXNzIiwiQ3VybGluZ05hdiIsIl90eXBlb2YiLCJlbGVtZW50IiwibWVudUl0ZW1zIiwiZmluZCIsImluZGV4IiwibWVudV9uYW1lIiwiJHBvcHVwIiwiYWRkIiwibW91c2VlbnRlciIsImFkZENsYXNzIiwibW91c2VsZWF2ZSIsInJlbW92ZUNsYXNzIiwiQ29uc3RydWN0b3IiLCJjdXJsaW5nTmF2TW9iaWxlIiwiQ3VybGluZ05hdk1vYmlsZSIsImlkIiwicG9wdXBzIiwiX3RoaXMiLCJsZW5ndGgiLCJ0b3BNZW51IiwiaGFtYnVyZ2VyIiwibWVudUxpc3RzIiwicG9wb3V0cyIsImNsaWNrIiwidG9nZ2xlQ2xhc3MiLCJoaWRlUG9wdXBzTW9iaWxlIiwic2hvd1BvcHVwTW9iaWxlIiwiZSIsImN1cnJlbnRUYXJnZXQiLCJtZWRpYVBsYXllciIsIlZpZGVvUGxheWVyIiwidmlkZW9QbGF5ZXIiLCJ2aWRlb0J0blBsYXkiLCJ2aWRlbyIsInZpZGVvT3ZlcmxheSIsImNvbnRlbnQiLCJwYXVzZWQiLCJwbGF5IiwicGF1c2UiLCJibG9ja0hlcm9UaW1lciIsIkJsb2NrSGVyb1RpbWVyIiwic3RhcnQiLCJ0b3RhbHNlY29uZHMiLCJEYXRlIiwiZGF5cyIsIk1hdGgiLCJmbG9vciIsImhvdXJzIiwibWludXRlcyIsInNlY29uZHMiLCJ0ZXh0IiwiZDEiLCJkMiIsInQyIiwiZ2V0VGltZSIsInQxIiwicGFyc2VJbnQiLCJkMVkiLCJnZXRGdWxsWWVhciIsImQyWSIsImQxTSIsImdldE1vbnRoIiwidW5peFRpbWUiLCJjdXJyZW50IiwidXBkYXRlVGltZSIsIndpbmRvdyIsInNldEludGVydmFsIl0sIm1hcHBpbmdzIjoiZ2ZBQUFBLE9BQU9DLFVBQVVDLE1BQU0sU0FBU0MsR0FDOUJILE9BQU9JLEdBQUdDLFdBQWEsU0FBU0MsVUFDdkJDLEtBQUtDLEtBQUssZUFDVEMsRUFBUVQsT0FBT08sTUFDZkcsRUFBT0QsRUFBTUMsS0FBSyxlQUVqQkEsR0FBU0QsRUFBTUUsU0FBUyx5QkFDekJELEVBQU8sSUFBSUUsRUFBV0gsRUFBeUIsVUFBbEJJLFFBQU9QLElBQXVCQSxHQUMzREcsRUFBTUMsS0FBSyxjQUFlQSxXQU05QkUsRUFDSixXQUFZRSxFQUFTUixnQ0FDZFEsUUFBVUEsT0FDVkMsVUFBWVIsS0FBS08sUUFBUUUsS0FBSyxxQ0FFOUJELFVBQVVQLEtBQUssU0FB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
