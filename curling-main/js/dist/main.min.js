"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),e}jQuery(document).ready(function(s){jQuery.fn.curlingNav=function(i){return this.each(function(){var e=jQuery(this),t=e.data("curling.nav");t||e.hasClass("js-curling-nav-init")||(t=new n(e,"object"==_typeof(i)&&i),e.data("curling.nav",t))})};var n=function e(t,i){_classCallCheck(this,e),this.element=t,this.menuItems=this.element.find(".nav-menu-primary .menu-item"),this.menuItems.each(function(e,t){var i=s(t),n=i.data("menu"),a=s(".nav-menu-popup[data-name='".concat(n,"']"));i.add(".nav-menu-popup[data-name='".concat(n,"']")).mouseenter(function(){i.addClass("active"),a.addClass("active")}).mouseleave(function(){i.removeClass("active"),a.removeClass("active")})})};jQuery.fn.curlingNav.Constructor=n}),jQuery(document).ready(function(a){jQuery.fn.curlingNavMobile=function(i){return this.each(function(){var e=jQuery(this),t=e.data("curling.mobilenav");t||e.hasClass("js-curling-mobilenav-init")||(t=new n(e,"object"==_typeof(i)&&i),e.data("curling.mobilenav",t))})};var n=function(){function i(e,t){var n=this;_classCallCheck(this,i),this.element=e,this.topMenu=this.element.find(".js-cta-topmenu-mobile"),this.hamburger=this.element.find(".js-cta-menu-mobile-hamburger"),this.menuLists=this.element.find(".js-cta-menu-list-mobile"),this.popouts=this.element.find(".js-cta-popout-mobile"),this.hamburger.click(function(){n.topMenu.toggleClass("active"),n.topMenu.hasClass("active")?(n.hidePopupsMobile(),n.showPopupMobile(0)):n.hidePopupsMobile()}),this.menuLists.each(function(e,t){var i=a(t);i.find(".js-cta-menu-item-mobile").click(function(){i.toggleClass("active")})}),this.menuLists.each(function(e,t){a(t).find(".js-cta-menu-subitem-mobile").click(function(e){var t=a(e.currentTarget).data("id");n.hidePopupsMobile(),n.showPopupMobile(t)||n.topMenu.removeClass("active")})}),this.popouts.each(function(e,t){var i=a(t);i.find(".js-cta-subnav-back").click(function(e){a(e.currentTarget);var t=i.data("parent");n.hidePopupsMobile(),n.showPopupMobile(t)})})}return _createClass(i,[{key:"showPopupMobile",value:function(e){var t=this.element.find('.js-cta-popout-mobile[data-id="'+e+'"]');return 0<t.length&&(t.addClass("active"),!0)}},{key:"hidePopupsMobile",value:function(){a(".js-cta-popout-mobile").each(function(e,t){a(t).removeClass("active")})}}]),i}();jQuery.fn.curlingNavMobile.Constructor=n}),jQuery(document).ready(function(e){jQuery.fn.imageCarousel=function(i){return this.each(function(){var e=jQuery(this),t=e.data("image.carousel");t||e.hasClass("js-image-carousel-init")||(t=new n(e,"object"==_typeof(i)&&i),e.data("image.carousel",t))})};var n=function(){function i(e,t){var s=this;_classCallCheck(this,i),this.element=e,this.slider=this.element.find(".js-slider"),this.sliderMobile=this.element.find(".js-slider-mobile"),this.isCircular=this.slider.hasClass("js-slider-circular"),this.navMobile=this.element.find(".js-carousel-mobile-nav"),this.paginationMobile=this.element.find(".js-carousel-mobile-nav-pagination"),this.arrowPrevMobile=this.element.find(".js-carousel-mobile-nav-prev"),this.arrowNextMobile=this.element.find(".js-carousel-mobile-nav-next"),this.nav=this.element.find(".js-carousel-nav"),this.pagination=this.element.find(".js-carousel-nav-pagination"),this.arrowPrev=this.element.find(".js-carousel-nav-prev"),this.arrowNext=this.element.find(".js-carousel-nav-next"),this.pagination&&this.slider.on("init reInit beforeChange",function(e,t,i,n){s.slider.find(".slick-slide").removeClass("level1 level2 level3"),n||(s.slider.find('.slick-slide[data-slick-index="0"]').addClass("level3"),s.slider.find('.slick-slide[data-slick-index="1"]').addClass("level2"));var a=(n||0)+1;s.pagination.text(a+"/"+t.slideCount)}),this.paginationMobile&&this.sliderMobile.on("init reInit beforeChange",function(e,t,i,n){var a=(n||0)+1;s.paginationMobile.text(a+"/"+t.slideCount)}),this.navMobile&&this.sliderMobile.children().length<=1&&this.navMobile.addClass("hidden"),this.nav&&this.slider.children().length<=1&&this.nav.addClass("hidden"),this.carouselMobile=this.sliderMobile.slick(),this.carousel=this.slider.slick({centerMode:this.isCircular,slidesToShow:this.isCircular?3:1,slidesToScroll:1,centerPadding:0,infinite:!this.isCircular}),this.carouselMobile&&this.arrowPrevMobile&&this.arrowPrevMobile.click(function(){s.sliderMobile.slick("slickPrev")}),this.carouselMobile&&this.arrowNextMobile&&this.arrowNextMobile.click(function(){s.sliderMobile.slick("slickNext")}),this.carousel&&this.arrowPrev&&this.arrowPrev.click(function(){s.slider.slick("slickPrev")}),this.carousel&&this.arrowNext&&this.arrowNext.click(function(){s.slider.slick("slickNext")})}return _createClass(i,[{key:"addAll",value:function(e,t,i){this.slider.find('.slick-slide[data-slick-index="'+t+'"]').addClass(i)}}]),i}();jQuery.fn.imageCarousel.Constructor=n}),jQuery(document).ready(function(e){jQuery.fn.mediaPlayer=function(i){return this.each(function(){var e=jQuery(this),t=e.data("media.player");t||e.hasClass("js-hero-container-init")||(t=new n(e,"object"==_typeof(i)&&i),e.data("media.player",t))})};var n=function e(t,i){var n=this;_classCallCheck(this,e),this.mediaPlayer=t,this.videoPlayer=this.mediaPlayer.find(".js-video-player"),this.videoBtnPlay=this.videoPlayer.find(".js-btn-play"),this.video=this.videoPlayer.find(".js-video"),this.videoOverlay=this.videoPlayer.find(".js-video-overlay"),this.content=this.mediaPlayer.find(".js-hero-content"),this.videoOverlay&&!this.videoOverlay.hasClass("hidden")&&this.videoOverlay.addClass("hidden"),0<this.video.length?this.video=this.video[0]:this.video=null,this.videoPlayer&&this.video&&this.videoPlayer.click(function(){n.video.paused?(n.video.play(),n.videoBtnPlay&&n.videoBtnPlay.addClass("hidden"),n.videoOverlay&&n.videoOverlay.addClass("hidden"),n.content&&n.content.addClass("hidden")):(n.video.pause(),n.videoBtnPlay&&n.videoBtnPlay.removeClass("hidden"),n.videoOverlay&&n.videoOverlay.removeClass("hidden"),n.content&&n.content.removeClass("hidden"))})};jQuery.fn.mediaPlayer.Constructor=n}),jQuery(document).ready(function(g){jQuery.fn.newsFeed=function(i){return this.each(function(){var e=jQuery(this),t=e.data("news.feed");t||e.hasClass("js-news-feed-init")||(t=new n(e,"object"==_typeof(i)&&i),e.data("news.feed",t))})};var n=function(){function i(e,t){_classCallCheck(this,i),this.element=e,this.newsFeedItems=this.element.find(".js-news-feed-items"),this.page=1,this.n=4,this.total=1,this.getAjaxRequest(this.page,this.n)}return _createClass(i,[{key:"getAjaxRequest",value:function(t,i){var n=this,e=this.element.data("category");console.log(t),e&&g.ajax({type:"POST",url:curling_ajax.ajax_url,data:{action:"ajax_request",page:t,n:i,category:e},dataType:"json",success:function(e){e&&e.success&&e.posts&&e.page&&e.total&&(n.page=t,n.n=i,n.total=e.total,n.newsFeedItems&&n.newsFeedItems.empty(),n.addPosts(e.posts,e),n.addPagination(e.page,e.total,e))}})}},{key:"addPosts",value:function(e,t){if(this.newsFeedItems)for(var i=0;i<e.length;++i){var n=e[i],a=g("<section>",{class:"news-feed-item block-news-promo block-news-promo-white"}),s=g("<div>",{class:"news-promo-container news-feed-container "+(i%2==1?"news-feed-reversed-container":"")});if(n.thumbnail){var r=g("<div>",{class:"news-feed-thumbnail-container news-promo-thumbnail-container"}),o=g("<img>",{class:"news-feed-thumbnail",src:n.thumbnail,alt:""});if(r.append(o),n.caption){var l=g("<div>",{class:"news-feed-caption-container news-promo-caption-container"}),c=g("<div>",{class:"news-promo-caption-wrapper"}),d=g("<p>",{class:"news-promo-caption"}).text(n.caption);c.append(d),l.append(c),r.append(l)}s.append(r)}var u=g("<div>",{class:"news-feed-info news-promo-info"}),h=g("<h3>",{class:"news-promo-title"}).text(n.title?n.title:""),f=g("<h4>",{class:"news-promo-date"}).text(n.date?n.date:""),v=g("<p>",{class:"news-feed-excerpt news-promo-excerpt"}).text(n.excerpt?n.excerpt:""),p=g("<a>",{class:"news-feed-link news-promo-link btn-link",href:""}),m=g("<h4>",{class:"btn-link-text red",href:""}).text("Continue Reading"),y=g("<img>",{class:"btn-link-arrow",src:t.arrowImageRed,alt:"arrow-right"}).text("Continue Reading");u.append(h),u.append(f),u.append(v),p.append(m),p.append(y),u.append(p),s.append(u),a.append(s),this.newsFeedItems.append(a)}}},{key:"addPagination",value:function(e,t,a){var s=this;if(1!==e||1!==t){for(var r=[],i=!1,n=!1,o=1===e||e===t?2:1,l=1;l<t+1;++l)Math.abs(l-e)<=o?r.push({isCurrent:l===e,text:l,large:!1}):l<e&&!i?(1<e-o&&r.push({isCurrent:!1,text:"arrow-left",large:!1}),r.push({isCurrent:!1,text:"PREV",large:!0}),i=!0):e<l&&!n&&(r.push({isCurrent:!1,text:"NEXT",large:!0}),n=!0,e+o<t&&r.push({isCurrent:!1,text:"arrow-right",large:!1}));for(var c=g("<div>",{class:"news-feed-pagination"}),d=function(e){var t=r[e],i=g("<div>",{class:"news-feed-pagination-block"+(t.isCurrent?" news-feed-pagination-block-selected":"")+(t.large?" news-feed-pagination-block-large":"")}),n=void 0;n="arrow-left"===t.text?g("<img>",{src:a.arrowImageLeft,alt:"arrow-left"}):"arrow-right"===t.text?g("<img>",{src:a.arrowImageRight,alt:"arrow-right"}):g("<span>",{class:"news-feed-pagination-text",src:a.arrowImageRight,alt:"arrow-right"}).text(t.text),i.click(function(){var e=s.page;switch(t.text){case"NEXT":e++;break;case"PREV":e--;break;case"arrow-left":e=1;break;case"arrow-right":e=s.total;break;default:e=t.text}s.getAjaxRequest(e,s.n)}),i.append(n),c.append(i)},u=0;u<r.length;++u)d(u);this.newsFeedItems.append(c)}}}]),i}();jQuery.fn.newsFeed.Constructor=n}),jQuery(document).ready(function(o){jQuery.fn.scheduleLinks=function(i){return this.each(function(){var e=jQuery(this),t=e.data("schedule.links");t||e.hasClass("js-schedule-links-init")||(t=new n(e,"object"==_typeof(i)&&i),e.data("schedule.links",t))})};var n=function e(t,i){var s=this;_classCallCheck(this,e),this.element=t,this.links=[],o("body").find(".js-schedule").each(function(e,t){var i=o(t),n=i.find(".js-schedule-title").text(),a="draw-schedule-"+e;i.attr("id",a),s.links.push({id:"#"+a,title:n})});for(var n=0;n<this.links.length;++n){var a=this.links[n],r=o("<a>",{class:"schedule-link-item clear",href:a.id}).append(o("<p>",{class:"schedule-link-text inverted"}).text(a.title));this.element.append(r)}};jQuery.fn.scheduleLinks.Constructor=n}),jQuery(document).ready(function(e){e.fn.blockHeroTimer=function(i){return this.each(function(){var e=jQuery(this),t=e.data("curling.block-hero-timer");t||e.hasClass("js-block-hero-timer-init")||(t=new n(e,"object"==_typeof(i)&&i),e.data("curling.block-hero-timer",t))})};var n=function(){function r(e,t){var i=this;_classCallCheck(this,r),this.element=e;var n=this.element.data("date"),a=new Date,s=new Date(1e3*n);0<s-a&&(this.updateTime(s),window.setInterval(function(){i.updateTime(s)},1e3))}return _createClass(r,[{key:"updateTime",value:function(e){var t=(e-new Date)/1e3,i=Math.floor(t/86400),n=Math.floor((t-86400*i)/3600),a=Math.floor((t-86400*i-3600*n)/60),s=Math.floor(t-86400*i-3600*n-60*a);this.element.find(".js-days").text(i),this.element.find(".js-hours").text(n),this.element.find(".js-minutes").text(a),this.element.find(".js-seconds").text(s)}},{key:"inDays",value:function(e,t){var i=t.getTime(),n=e.getTime();return parseInt((i-n)/864e5)}},{key:"inWeeks",value:function(e,t){var i=t.getTime(),n=e.getTime();return parseInt((i-n)/6048e5)}},{key:"inMonths",value:function(e,t){var i=e.getFullYear(),n=t.getFullYear(),a=e.getMonth();return t.getMonth()+12*n-(a+12*i)}},{key:"inYears",value:function(e,t){return t.getFullYear()-e.getFullYear()}}]),r}();jQuery.fn.blockHeroTimer.Constructor=n}),jQuery(document).ready(function(e){e(".js-curling-nav").curlingNav(),e(".js-curling-nav-mobile").curlingNavMobile(),e(".js-hero-container").mediaPlayer(),e(".js-timer").blockHeroTimer(),e(".js-image-carousel").imageCarousel(),e(".js-news-feed").newsFeed(),e(".js-schedule-links").scheduleLinks(),e(".text-callouts-group").slick({})});

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5taW4uanMiLCJzb3VyY2VzIjpbImpzL3RlbXBsYXRlcy9DdXJsaW5nTmF2LmpzIiwianMvdGVtcGxhdGVzL0N1cmxpbmdOYXZNb2JpbGUuanMiLCJqcy90ZW1wbGF0ZXMvSW1hZ2VDYXJvdXNlbC5qcyIsImpzL3RlbXBsYXRlcy9WaWRlb1BsYXllci5qcyIsImpzL3RlbXBsYXRlcy9OZXdzRmVlZC5qcyIsImpzL3RlbXBsYXRlcy9TY2hlZHVsZUxpbmtzLmpzIiwianMvYmxvY2tzL2Jsb2NrLXRpbWVyLmpzIiwianMvbWFpbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJqUXVlcnkoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCQpIHtcbiAgalF1ZXJ5LmZuLmN1cmxpbmdOYXYgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyICR0aGlzID0galF1ZXJ5KHRoaXMpLFxuICAgICAgICAgICAgZGF0YSA9ICR0aGlzLmRhdGEoJ2N1cmxpbmcubmF2Jyk7XG5cbiAgICAgICAgaWYgKCFkYXRhICYmICEkdGhpcy5oYXNDbGFzcygnanMtY3VybGluZy1uYXYtaW5pdCcpKSB7XG4gICAgICAgICAgICBkYXRhID0gbmV3IEN1cmxpbmdOYXYoJHRoaXMsIHR5cGVvZiBvcHRpb25zID09ICdvYmplY3QnICYmIG9wdGlvbnMpO1xuICAgICAgICAgICAgJHRoaXMuZGF0YSgnY3VybGluZy5uYXYnLCBkYXRhKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICB9XG5cblxuICBjbGFzcyBDdXJsaW5nTmF2IHtcbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgdGhpcy5tZW51SXRlbXMgPSB0aGlzLmVsZW1lbnQuZmluZCgnLm5hdi1tZW51LXByaW1hcnkgLm1lbnUtaXRlbScpO1xuXG4gICAgICB0aGlzLm1lbnVJdGVtcy5lYWNoKChpbmRleCwgZWxlbWVudCkgPT4ge1xuICAgICAgICBjb25zdCAkdGhpcyA9ICQoZWxlbWVudCk7XG4gICAgICAgIGNvbnN0IG1lbnVfbmFtZSA9ICR0aGlzLmRhdGEoJ21lbnUnKTtcblxuICAgICAgICBjb25zdCAkcG9wdXAgPSAkKGAubmF2LW1lbnUtcG9wdXBbZGF0YS1uYW1lPScke21lbnVfbmFtZX0nXWApO1xuICAgICAgICBjb25zdCAkbXVsdGkgPSAkdGhpcy5hZGQoYC5uYXYtbWVudS1wb3B1cFtkYXRhLW5hbWU9JyR7bWVudV9uYW1lfSddYCk7XG4gICAgICAgICRtdWx0aS5tb3VzZWVudGVyKCgpID0+IHtcbiAgICAgICAgICAgICR0aGlzLmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgICAgICRwb3B1cC5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgIH0pLm1vdXNlbGVhdmUoKCkgPT4ge1xuICAgICAgICAgICAgJHRoaXMucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgJHBvcHVwLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgXG4gIGpRdWVyeS5mbi5jdXJsaW5nTmF2LkNvbnN0cnVjdG9yID0gQ3VybGluZ05hdjtcbn0pOyIsImpRdWVyeShkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oJCkge1xuICBqUXVlcnkuZm4uY3VybGluZ05hdk1vYmlsZSA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgJHRoaXMgPSBqUXVlcnkodGhpcyksXG4gICAgICAgICAgICBkYXRhID0gJHRoaXMuZGF0YSgnY3VybGluZy5tb2JpbGVuYXYnKTtcblxuICAgICAgICBpZiAoIWRhdGEgJiYgISR0aGlzLmhhc0NsYXNzKCdqcy1jdXJsaW5nLW1vYmlsZW5hdi1pbml0JykpIHtcbiAgICAgICAgICAgIGRhdGEgPSBuZXcgQ3VybGluZ05hdk1vYmlsZSgkdGhpcywgdHlwZW9mIG9wdGlvbnMgPT0gJ29iamVjdCcgJiYgb3B0aW9ucyk7XG4gICAgICAgICAgICAkdGhpcy5kYXRhKCdjdXJsaW5nLm1vYmlsZW5hdicsIGRhdGEpO1xuICAgICAgICB9XG4gICAgfSk7XG4gIH1cblxuXG4gIGNsYXNzIEN1cmxpbmdOYXZNb2JpbGUge1xuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICB0aGlzLnRvcE1lbnUgPSB0aGlzLmVsZW1lbnQuZmluZCgnLmpzLWN0YS10b3BtZW51LW1vYmlsZScpO1xuICAgICAgdGhpcy5oYW1idXJnZXIgPSB0aGlzLmVsZW1lbnQuZmluZCgnLmpzLWN0YS1tZW51LW1vYmlsZS1oYW1idXJnZXInKTtcblxuICAgICAgdGhpcy5tZW51TGlzdHMgPSB0aGlzLmVsZW1lbnQuZmluZCgnLmpzLWN0YS1tZW51LWxpc3QtbW9iaWxlJyk7XG4gICAgICB0aGlzLnBvcG91dHMgPSB0aGlzLmVsZW1lbnQuZmluZCgnLmpzLWN0YS1wb3BvdXQtbW9iaWxlJylcblxuICAgICAgdGhpcy5oYW1idXJnZXIuY2xpY2soKCkgPT4ge1xuICAgICAgICB0aGlzLnRvcE1lbnUudG9nZ2xlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICBpZiAodGhpcy50b3BNZW51Lmhhc0NsYXNzKCdhY3RpdmUnKSkge1xuICAgICAgICAgIHRoaXMuaGlkZVBvcHVwc01vYmlsZSgpO1xuICAgICAgICAgIHRoaXMuc2hvd1BvcHVwTW9iaWxlKDApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuaGlkZVBvcHVwc01vYmlsZSgpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgdGhpcy5tZW51TGlzdHMuZWFjaCgoaW5kZXgsIGVsZW1lbnQpID0+IHtcbiAgICAgICAgICBjb25zdCAkdGhpcyA9ICQoZWxlbWVudCk7XG4gICAgICAgICAgJHRoaXMuZmluZCgnLmpzLWN0YS1tZW51LWl0ZW0tbW9iaWxlJykuY2xpY2soKCkgPT4ge1xuICAgICAgICAgICAgICAkdGhpcy50b2dnbGVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICAgfSlcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLm1lbnVMaXN0cy5lYWNoKChpbmRleCwgZWxlbWVudCkgPT4ge1xuICAgICAgICBjb25zdCAkdGhpcyA9ICQoZWxlbWVudCk7XG4gICAgICAgICR0aGlzLmZpbmQoJy5qcy1jdGEtbWVudS1zdWJpdGVtLW1vYmlsZScpLmNsaWNrKChlKSA9PiB7XG4gICAgICAgICAgY29uc3QgJHRhcmdldCA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcbiAgICAgICAgICBjb25zdCBpZCA9ICR0YXJnZXQuZGF0YSgnaWQnKTtcbiAgICAgICAgICB0aGlzLmhpZGVQb3B1cHNNb2JpbGUoKTtcbiAgICAgICAgICBpZiAoIXRoaXMuc2hvd1BvcHVwTW9iaWxlKGlkKSkge1xuICAgICAgICAgICAgdGhpcy50b3BNZW51LnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICB9KTtcblxuICAgICAgdGhpcy5wb3BvdXRzLmVhY2goKGluZGV4LCBlbGVtZW50KSA9PiB7XG4gICAgICAgIGNvbnN0ICR0aGlzID0gJChlbGVtZW50KTtcbiAgICAgICAgJHRoaXMuZmluZCgnLmpzLWN0YS1zdWJuYXYtYmFjaycpLmNsaWNrKChlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCAkdGFyZ2V0ID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuICAgICAgICAgICAgY29uc3QgaWQgPSAkdGhpcy5kYXRhKCdwYXJlbnQnKTtcbiAgICAgICAgICAgIHRoaXMuaGlkZVBvcHVwc01vYmlsZSgpO1xuICAgICAgICAgICAgdGhpcy5zaG93UG9wdXBNb2JpbGUoaWQpO1xuICAgICAgICB9KVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgc2hvd1BvcHVwTW9iaWxlKGlkKSB7XG4gICAgICBjb25zdCBwb3B1cHMgPSB0aGlzLmVsZW1lbnQuZmluZCgnLmpzLWN0YS1wb3BvdXQtbW9iaWxlW2RhdGEtaWQ9XCInICsgaWQgKyAnXCJdJyk7XG4gICAgICBpZiAocG9wdXBzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcG9wdXBzLmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICBcbiAgICBoaWRlUG9wdXBzTW9iaWxlKCkge1xuICAgICAgJCgnLmpzLWN0YS1wb3BvdXQtbW9iaWxlJykuZWFjaCgoaW5kZXgsIGVsZW1lbnQpID0+IHtcbiAgICAgICAgICBjb25zdCAkdGhpcyA9ICQoZWxlbWVudCk7XG4gICAgICAgICAgJHRoaXMucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIFxuICBqUXVlcnkuZm4uY3VybGluZ05hdk1vYmlsZS5Db25zdHJ1Y3RvciA9IEN1cmxpbmdOYXZNb2JpbGU7XG59KTtcbiIsImpRdWVyeShkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oJCkge1xuICBqUXVlcnkuZm4uaW1hZ2VDYXJvdXNlbCA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgJHRoaXMgPSBqUXVlcnkodGhpcyksXG4gICAgICAgICAgICBkYXRhID0gJHRoaXMuZGF0YSgnaW1hZ2UuY2Fyb3VzZWwnKTtcblxuICAgICAgICBpZiAoIWRhdGEgJiYgISR0aGlzLmhhc0NsYXNzKCdqcy1pbWFnZS1jYXJvdXNlbC1pbml0JykpIHtcbiAgICAgICAgICAgIGRhdGEgPSBuZXcgSW1hZ2VDYXJvdXNlbCgkdGhpcywgdHlwZW9mIG9wdGlvbnMgPT0gJ29iamVjdCcgJiYgb3B0aW9ucyk7XG4gICAgICAgICAgICAkdGhpcy5kYXRhKCdpbWFnZS5jYXJvdXNlbCcsIGRhdGEpO1xuICAgICAgICB9XG4gICAgfSk7XG4gIH1cblxuXG4gIGNsYXNzIEltYWdlQ2Fyb3VzZWwge1xuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG5cbiAgICAgIHRoaXMuc2xpZGVyID0gdGhpcy5lbGVtZW50LmZpbmQoJy5qcy1zbGlkZXInKTtcbiAgICAgIHRoaXMuc2xpZGVyTW9iaWxlID0gdGhpcy5lbGVtZW50LmZpbmQoJy5qcy1zbGlkZXItbW9iaWxlJyk7XG5cbiAgICAgIHRoaXMuaXNDaXJjdWxhciA9IHRoaXMuc2xpZGVyLmhhc0NsYXNzKCdqcy1zbGlkZXItY2lyY3VsYXInKTtcblxuICAgICAgdGhpcy5uYXZNb2JpbGUgPSB0aGlzLmVsZW1lbnQuZmluZCgnLmpzLWNhcm91c2VsLW1vYmlsZS1uYXYnKTtcbiAgICAgIHRoaXMucGFnaW5hdGlvbk1vYmlsZSA9IHRoaXMuZWxlbWVudC5maW5kKCcuanMtY2Fyb3VzZWwtbW9iaWxlLW5hdi1wYWdpbmF0aW9uJyk7XG4gICAgICB0aGlzLmFycm93UHJldk1vYmlsZSA9IHRoaXMuZWxlbWVudC5maW5kKCcuanMtY2Fyb3VzZWwtbW9iaWxlLW5hdi1wcmV2Jyk7XG4gICAgICB0aGlzLmFycm93TmV4dE1vYmlsZSA9IHRoaXMuZWxlbWVudC5maW5kKCcuanMtY2Fyb3VzZWwtbW9iaWxlLW5hdi1uZXh0Jyk7XG5cbiAgICAgIHRoaXMubmF2ID0gdGhpcy5lbGVtZW50LmZpbmQoJy5qcy1jYXJvdXNlbC1uYXYnKTtcbiAgICAgIHRoaXMucGFnaW5hdGlvbiA9IHRoaXMuZWxlbWVudC5maW5kKCcuanMtY2Fyb3VzZWwtbmF2LXBhZ2luYXRpb24nKTtcbiAgICAgIHRoaXMuYXJyb3dQcmV2ID0gdGhpcy5lbGVtZW50LmZpbmQoJy5qcy1jYXJvdXNlbC1uYXYtcHJldicpO1xuICAgICAgdGhpcy5hcnJvd05leHQgPSB0aGlzLmVsZW1lbnQuZmluZCgnLmpzLWNhcm91c2VsLW5hdi1uZXh0Jyk7XG4gICAgIFxuICAgICAgaWYgKHRoaXMucGFnaW5hdGlvbikge1xuICAgICAgICB0aGlzLnNsaWRlci5vbignaW5pdCByZUluaXQgYmVmb3JlQ2hhbmdlJywgKGV2ZW50LCBzbGljaywgY3VycmVudFNsaWRlLCBuZXh0U2xpZGUpID0+IHtcbiAgICAgICAgICB0aGlzLnNsaWRlci5maW5kKCcuc2xpY2stc2xpZGUnKS5yZW1vdmVDbGFzcygnbGV2ZWwxIGxldmVsMiBsZXZlbDMnKTtcbiAgICAgICAgXG4gICAgICAgICAgaWYgKG5leHRTbGlkZSkge1xuICAgICAgICAgICAgLy8gdGhpcy5hZGRBbGwoc2xpY2ssIG5leHRTbGlkZSAtIDIsICdsZXZlbDEnKTtcbiAgICAgICAgICAgIC8vIHRoaXMuYWRkQWxsKHNsaWNrLCBuZXh0U2xpZGUgKyAyLCAnbGV2ZWwxJyk7XG4gICAgICAgICAgICAvLyB0aGlzLmFkZEFsbChzbGljaywgbmV4dFNsaWRlIC0gMSwgJ2xldmVsMicpO1xuICAgICAgICAgICAgLy8gdGhpcy5hZGRBbGwoc2xpY2ssIG5leHRTbGlkZSArIDEsICdsZXZlbDInKTtcbiAgICAgICAgICAgIC8vIHRoaXMuYWRkQWxsKHNsaWNrLCBuZXh0U2xpZGUsICdsZXZlbDMnKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zbGlkZXIuZmluZCgnLnNsaWNrLXNsaWRlW2RhdGEtc2xpY2staW5kZXg9XCIwXCJdJykuYWRkQ2xhc3MoJ2xldmVsMycpO1xuICAgICAgICAgICAgdGhpcy5zbGlkZXIuZmluZCgnLnNsaWNrLXNsaWRlW2RhdGEtc2xpY2staW5kZXg9XCIxXCJdJykuYWRkQ2xhc3MoJ2xldmVsMicpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhciBpID0gKG5leHRTbGlkZSA/IG5leHRTbGlkZSA6IDApICsgMTtcbiAgICAgICAgICB0aGlzLnBhZ2luYXRpb24udGV4dChpICsgJy8nICsgc2xpY2suc2xpZGVDb3VudCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5wYWdpbmF0aW9uTW9iaWxlKSB7XG4gICAgICAgIHRoaXMuc2xpZGVyTW9iaWxlLm9uKCdpbml0IHJlSW5pdCBiZWZvcmVDaGFuZ2UnLCAoZXZlbnQsIHNsaWNrLCBjdXJyZW50U2xpZGUsIG5leHRTbGlkZSkgPT4ge1xuICAgICAgICAgIHZhciBpID0gKG5leHRTbGlkZSA/IG5leHRTbGlkZSA6IDApICsgMTtcbiAgICAgICAgICB0aGlzLnBhZ2luYXRpb25Nb2JpbGUudGV4dChpICsgJy8nICsgc2xpY2suc2xpZGVDb3VudCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgXG4gICAgICBpZiAodGhpcy5uYXZNb2JpbGUgJiYgdGhpcy5zbGlkZXJNb2JpbGUuY2hpbGRyZW4oKS5sZW5ndGggPD0gMSkge1xuICAgICAgICB0aGlzLm5hdk1vYmlsZS5hZGRDbGFzcygnaGlkZGVuJyk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLm5hdiAmJiB0aGlzLnNsaWRlci5jaGlsZHJlbigpLmxlbmd0aCA8PSAxKSB7XG4gICAgICAgIHRoaXMubmF2LmFkZENsYXNzKCdoaWRkZW4nKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgdGhpcy5jYXJvdXNlbE1vYmlsZSA9IHRoaXMuc2xpZGVyTW9iaWxlLnNsaWNrKCk7XG4gICAgICB0aGlzLmNhcm91c2VsID0gdGhpcy5zbGlkZXIuc2xpY2soe1xuICAgICAgICBjZW50ZXJNb2RlOiB0aGlzLmlzQ2lyY3VsYXIsXG4gICAgICAgIHNsaWRlc1RvU2hvdzogdGhpcy5pc0NpcmN1bGFyID8gMyA6IDEsXG4gICAgICAgIHNsaWRlc1RvU2Nyb2xsOiAxLFxuICAgICAgICBjZW50ZXJQYWRkaW5nOiAwLFxuICAgICAgICBpbmZpbml0ZTogdGhpcy5pc0NpcmN1bGFyID8gZmFsc2UgOiB0cnVlXG4gICAgICB9KTtcblxuICAgICAgaWYgKHRoaXMuY2Fyb3VzZWxNb2JpbGUgJiYgdGhpcy5hcnJvd1ByZXZNb2JpbGUpIHtcbiAgICAgICAgdGhpcy5hcnJvd1ByZXZNb2JpbGUuY2xpY2soKCkgPT4ge1xuICAgICAgICAgIHRoaXMuc2xpZGVyTW9iaWxlLnNsaWNrKCdzbGlja1ByZXYnKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLmNhcm91c2VsTW9iaWxlICYmIHRoaXMuYXJyb3dOZXh0TW9iaWxlKSB7XG4gICAgICAgIHRoaXMuYXJyb3dOZXh0TW9iaWxlLmNsaWNrKCgpID0+IHtcbiAgICAgICAgICB0aGlzLnNsaWRlck1vYmlsZS5zbGljaygnc2xpY2tOZXh0Jyk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5jYXJvdXNlbCAmJiB0aGlzLmFycm93UHJldikge1xuICAgICAgICB0aGlzLmFycm93UHJldi5jbGljaygoKSA9PiB7XG4gICAgICAgICAgdGhpcy5zbGlkZXIuc2xpY2soJ3NsaWNrUHJldicpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuY2Fyb3VzZWwgJiYgdGhpcy5hcnJvd05leHQpIHtcbiAgICAgICAgdGhpcy5hcnJvd05leHQuY2xpY2soKCkgPT4ge1xuICAgICAgICAgIHRoaXMuc2xpZGVyLnNsaWNrKCdzbGlja05leHQnKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgYWRkQWxsKHNsaWNrLCBpbmRleCwgYWRkZWRDbGFzcykge1xuICAgICAgdGhpcy5zbGlkZXIuZmluZCgnLnNsaWNrLXNsaWRlW2RhdGEtc2xpY2staW5kZXg9XCInICsgaW5kZXggKyAnXCJdJykuYWRkQ2xhc3MoYWRkZWRDbGFzcyk7XG4gICAgICAvLyB0aGlzLnNsaWRlci5maW5kKCcuc2xpY2stc2xpZGVbZGF0YS1zbGljay1pbmRleD1cIicgKyAoaW5kZXggKyBzbGljay5zbGlkZUNvdW50KSArICdcIl0nKS5hZGRDbGFzcyhhZGRlZENsYXNzKTtcbiAgICAgIC8vIHRoaXMuc2xpZGVyLmZpbmQoJy5zbGljay1zbGlkZVtkYXRhLXNsaWNrLWluZGV4PVwiJyArIChpbmRleCAtIHNsaWNrLnNsaWRlQ291bnQpICsgJ1wiXScpLmFkZENsYXNzKGFkZGVkQ2xhc3MpO1xuICAgIH1cbiAgfVxuICBcbiAgalF1ZXJ5LmZuLmltYWdlQ2Fyb3VzZWwuQ29uc3RydWN0b3IgPSBJbWFnZUNhcm91c2VsO1xufSk7XG4iLCJqUXVlcnkoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCQpIHtcbiAgalF1ZXJ5LmZuLm1lZGlhUGxheWVyID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciAkdGhpcyA9IGpRdWVyeSh0aGlzKSxcbiAgICAgICAgICAgIGRhdGEgPSAkdGhpcy5kYXRhKCdtZWRpYS5wbGF5ZXInKTtcblxuICAgICAgICBpZiAoIWRhdGEgJiYgISR0aGlzLmhhc0NsYXNzKCdqcy1oZXJvLWNvbnRhaW5lci1pbml0JykpIHtcbiAgICAgICAgICAgIGRhdGEgPSBuZXcgVmlkZW9QbGF5ZXIoJHRoaXMsIHR5cGVvZiBvcHRpb25zID09ICdvYmplY3QnICYmIG9wdGlvbnMpO1xuICAgICAgICAgICAgJHRoaXMuZGF0YSgnbWVkaWEucGxheWVyJywgZGF0YSk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG5cbiAgY2xhc3MgVmlkZW9QbGF5ZXIge1xuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICAgIHRoaXMubWVkaWFQbGF5ZXIgPSBlbGVtZW50O1xuICAgICAgdGhpcy52aWRlb1BsYXllciA9IHRoaXMubWVkaWFQbGF5ZXIuZmluZCgnLmpzLXZpZGVvLXBsYXllcicpO1xuICAgICAgdGhpcy52aWRlb0J0blBsYXkgPSB0aGlzLnZpZGVvUGxheWVyLmZpbmQoJy5qcy1idG4tcGxheScpO1xuICAgICAgdGhpcy52aWRlbyA9IHRoaXMudmlkZW9QbGF5ZXIuZmluZCgnLmpzLXZpZGVvJyk7XG4gICAgICB0aGlzLnZpZGVvT3ZlcmxheSA9IHRoaXMudmlkZW9QbGF5ZXIuZmluZCgnLmpzLXZpZGVvLW92ZXJsYXknKTtcbiAgICAgIHRoaXMuY29udGVudCA9IHRoaXMubWVkaWFQbGF5ZXIuZmluZCgnLmpzLWhlcm8tY29udGVudCcpO1xuXG4gICAgICBpZiAodGhpcy52aWRlb092ZXJsYXkgJiYgIXRoaXMudmlkZW9PdmVybGF5Lmhhc0NsYXNzKCdoaWRkZW4nKSkge1xuICAgICAgICB0aGlzLnZpZGVvT3ZlcmxheS5hZGRDbGFzcygnaGlkZGVuJyk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLnZpZGVvLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdGhpcy52aWRlbyA9IHRoaXMudmlkZW9bMF07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnZpZGVvID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgaWYgKHRoaXMudmlkZW9QbGF5ZXIgJiYgdGhpcy52aWRlbykge1xuICAgICAgICB0aGlzLnZpZGVvUGxheWVyLmNsaWNrKCgpID0+IHtcbiAgICAgICAgICBpZiAodGhpcy52aWRlby5wYXVzZWQpIHtcbiAgICAgICAgICAgIHRoaXMudmlkZW8ucGxheSgpO1xuICAgICAgICAgICAgaWYgKHRoaXMudmlkZW9CdG5QbGF5KSB7XG4gICAgICAgICAgICAgIHRoaXMudmlkZW9CdG5QbGF5LmFkZENsYXNzKCdoaWRkZW4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLnZpZGVvT3ZlcmxheSkge1xuICAgICAgICAgICAgICB0aGlzLnZpZGVvT3ZlcmxheS5hZGRDbGFzcygnaGlkZGVuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5jb250ZW50KSB7XG4gICAgICAgICAgICAgIHRoaXMuY29udGVudC5hZGRDbGFzcygnaGlkZGVuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudmlkZW8ucGF1c2UoKTtcbiAgICAgICAgICAgIGlmICh0aGlzLnZpZGVvQnRuUGxheSkge1xuICAgICAgICAgICAgICB0aGlzLnZpZGVvQnRuUGxheS5yZW1vdmVDbGFzcygnaGlkZGVuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy52aWRlb092ZXJsYXkpIHtcbiAgICAgICAgICAgICAgdGhpcy52aWRlb092ZXJsYXkucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuY29udGVudCkge1xuICAgICAgICAgICAgICB0aGlzLmNvbnRlbnQucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIFxuICBqUXVlcnkuZm4ubWVkaWFQbGF5ZXIuQ29uc3RydWN0b3IgPSBWaWRlb1BsYXllcjtcbn0pOyIsImpRdWVyeShkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oJCkge1xuICBqUXVlcnkuZm4ubmV3c0ZlZWQgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyICR0aGlzID0galF1ZXJ5KHRoaXMpLFxuICAgICAgICAgICAgZGF0YSA9ICR0aGlzLmRhdGEoJ25ld3MuZmVlZCcpO1xuXG4gICAgICAgIGlmICghZGF0YSAmJiAhJHRoaXMuaGFzQ2xhc3MoJ2pzLW5ld3MtZmVlZC1pbml0JykpIHtcbiAgICAgICAgICAgIGRhdGEgPSBuZXcgTmV3c0ZlZWQoJHRoaXMsIHR5cGVvZiBvcHRpb25zID09ICdvYmplY3QnICYmIG9wdGlvbnMpO1xuICAgICAgICAgICAgJHRoaXMuZGF0YSgnbmV3cy5mZWVkJywgZGF0YSk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG5cbiAgY2xhc3MgTmV3c0ZlZWQge1xuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcblxuICAgICAgICB0aGlzLm5ld3NGZWVkSXRlbXMgPSB0aGlzLmVsZW1lbnQuZmluZCgnLmpzLW5ld3MtZmVlZC1pdGVtcycpO1xuICAgICAgICB0aGlzLnBhZ2UgPSAxO1xuICAgICAgICB0aGlzLm4gPSA0O1xuICAgICAgICB0aGlzLnRvdGFsID0gMTtcbiAgICAgICAgXG4gICAgICAgIHRoaXMuZ2V0QWpheFJlcXVlc3QodGhpcy5wYWdlLCB0aGlzLm4pO1xuICAgIH1cblxuICAgIGdldEFqYXhSZXF1ZXN0KHBhZ2UsIG4pIHtcbiAgICAgIGNvbnN0IGNhdGVnb3J5ID0gdGhpcy5lbGVtZW50LmRhdGEoJ2NhdGVnb3J5Jyk7XG4gICAgICBjb25zb2xlLmxvZyhwYWdlKTtcblxuICAgICAgaWYgKGNhdGVnb3J5KSB7XG4gICAgICAgICQuYWpheCh7XG4gICAgICAgICAgdHlwZTogJ1BPU1QnLFxuICAgICAgICAgIHVybDogY3VybGluZ19hamF4LmFqYXhfdXJsLFxuICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICdhY3Rpb24nOiAnYWpheF9yZXF1ZXN0JyxcbiAgICAgICAgICAgICdwYWdlJzogcGFnZSxcbiAgICAgICAgICAgICduJzogbixcbiAgICAgICAgICAgICdjYXRlZ29yeSc6IGNhdGVnb3J5XG4gICAgICAgICAgfSxcbiAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgICAgICAgIHN1Y2Nlc3M6IChkYXRhKSA9PiB7XG4gICAgICAgICAgICBpZiAoZGF0YSAmJiBkYXRhLnN1Y2Nlc3MgJiYgZGF0YS5wb3N0cyAmJiBkYXRhLnBhZ2UgJiYgZGF0YS50b3RhbCkge1xuICAgICAgICAgICAgICB0aGlzLnBhZ2UgPSBwYWdlO1xuICAgICAgICAgICAgICB0aGlzLm4gPSBuO1xuICAgICAgICAgICAgICB0aGlzLnRvdGFsID0gZGF0YS50b3RhbDtcbiAgICAgICAgICAgICAgaWYgKHRoaXMubmV3c0ZlZWRJdGVtcykge1xuICAgICAgICAgICAgICAgIHRoaXMubmV3c0ZlZWRJdGVtcy5lbXB0eSgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHRoaXMuYWRkUG9zdHMoZGF0YS5wb3N0cywgZGF0YSk7XG4gICAgICAgICAgICAgIHRoaXMuYWRkUGFnaW5hdGlvbihkYXRhLnBhZ2UsIGRhdGEudG90YWwsIGRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIGFkZFBvc3RzKHBvc3RzLCBkYXRhKSAge1xuICAgICAgaWYgKHRoaXMubmV3c0ZlZWRJdGVtcykge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBvc3RzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgY29uc3QgcG9zdCA9IHBvc3RzW2ldO1xuICBcbiAgICAgICAgICBjb25zdCAkc2VjdGlvbiA9ICQoJzxzZWN0aW9uPicsIHtcbiAgICAgICAgICAgIGNsYXNzOiAnbmV3cy1mZWVkLWl0ZW0gYmxvY2stbmV3cy1wcm9tbyBibG9jay1uZXdzLXByb21vLXdoaXRlJ1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgY29uc3QgJG5ld3NQcm9tb0NvbnRhaW5lciA9ICQoJzxkaXY+Jywge1xuICAgICAgICAgICAgY2xhc3M6ICduZXdzLXByb21vLWNvbnRhaW5lciBuZXdzLWZlZWQtY29udGFpbmVyICcgKyAoaSAlIDIgPT09IDEgPyAnbmV3cy1mZWVkLXJldmVyc2VkLWNvbnRhaW5lcicgOiAnJylcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGxldCBwb3N0SHRtbCA9ICcnO1xuICAgICAgICAgIGlmIChwb3N0Wyd0aHVtYm5haWwnXSkge1xuXG4gICAgICAgICAgICBjb25zdCAkbmV3c0ZlZWRUaHVtYm5haWxDb250YWluZXIgPSAkKCc8ZGl2PicsIHtcbiAgICAgICAgICAgICAgY2xhc3M6ICduZXdzLWZlZWQtdGh1bWJuYWlsLWNvbnRhaW5lciBuZXdzLXByb21vLXRodW1ibmFpbC1jb250YWluZXInXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgY29uc3QgJG5ld3NGZWVkVGh1bWJuYWlsID0gJCgnPGltZz4nLCB7XG4gICAgICAgICAgICAgIGNsYXNzOiAnbmV3cy1mZWVkLXRodW1ibmFpbCcsXG4gICAgICAgICAgICAgIHNyYzogcG9zdFsndGh1bWJuYWlsJ10sXG4gICAgICAgICAgICAgIGFsdDogJydcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAkbmV3c0ZlZWRUaHVtYm5haWxDb250YWluZXIuYXBwZW5kKCRuZXdzRmVlZFRodW1ibmFpbCk7XG5cbiAgICAgICAgICAgIGlmIChwb3N0WydjYXB0aW9uJ10pIHtcbiAgICAgICAgICAgICAgY29uc3QgJG5ld3NGZWVkQ2FwdGlvbkNvbnRhaW5lciA9ICQoJzxkaXY+Jywge1xuICAgICAgICAgICAgICAgIGNsYXNzOiAnbmV3cy1mZWVkLWNhcHRpb24tY29udGFpbmVyIG5ld3MtcHJvbW8tY2FwdGlvbi1jb250YWluZXInXG4gICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIGNvbnN0ICRuZXdzRmVlZENhcHRpb25XcmFwcGVyID0gJCgnPGRpdj4nLCB7XG4gICAgICAgICAgICAgICAgY2xhc3M6ICduZXdzLXByb21vLWNhcHRpb24td3JhcHBlcidcbiAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgY29uc3QgbmV3c0ZlZWRDYXB0aW9uID0gJCgnPHA+Jywge1xuICAgICAgICAgICAgICAgIGNsYXNzOiAnbmV3cy1wcm9tby1jYXB0aW9uJ1xuICAgICAgICAgICAgICB9KS50ZXh0KHBvc3RbJ2NhcHRpb24nXSk7XG5cbiAgICAgICAgICAgICAgJG5ld3NGZWVkQ2FwdGlvbldyYXBwZXIuYXBwZW5kKG5ld3NGZWVkQ2FwdGlvbik7XG4gICAgICAgICAgICAgICRuZXdzRmVlZENhcHRpb25Db250YWluZXIuYXBwZW5kKCRuZXdzRmVlZENhcHRpb25XcmFwcGVyKTtcbiAgICAgICAgICAgICAgJG5ld3NGZWVkVGh1bWJuYWlsQ29udGFpbmVyLmFwcGVuZCgkbmV3c0ZlZWRDYXB0aW9uQ29udGFpbmVyKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgJG5ld3NQcm9tb0NvbnRhaW5lci5hcHBlbmQoJG5ld3NGZWVkVGh1bWJuYWlsQ29udGFpbmVyKTtcbiAgICAgICAgICB9XG4gIFxuICAgICAgICAgIGNvbnN0ICRuZXdzRmVlZEluZm8gPSAkKCc8ZGl2PicsIHtcbiAgICAgICAgICAgIGNsYXNzOiAnbmV3cy1mZWVkLWluZm8gbmV3cy1wcm9tby1pbmZvJ1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgY29uc3QgJG5ld3NUaXRsZSA9ICQoJzxoMz4nLCB7XG4gICAgICAgICAgICBjbGFzczogJ25ld3MtcHJvbW8tdGl0bGUnXG4gICAgICAgICAgfSkudGV4dChwb3N0Wyd0aXRsZSddID8gcG9zdFsndGl0bGUnXSA6ICcnKTtcblxuICAgICAgICAgIGNvbnN0ICRuZXdzRGF0ZSA9ICQoJzxoND4nLCB7XG4gICAgICAgICAgICBjbGFzczogJ25ld3MtcHJvbW8tZGF0ZSdcbiAgICAgICAgICB9KS50ZXh0KHBvc3RbJ2RhdGUnXSA/IHBvc3RbJ2RhdGUnXSA6ICcnKTtcblxuICAgICAgICAgIGNvbnN0ICRuZXdzRXhlcnB0ID0gJCgnPHA+Jywge1xuICAgICAgICAgICAgY2xhc3M6ICduZXdzLWZlZWQtZXhjZXJwdCBuZXdzLXByb21vLWV4Y2VycHQnXG4gICAgICAgICAgfSkudGV4dChwb3N0WydleGNlcnB0J10gPyBwb3N0WydleGNlcnB0J10gOiAnJyk7XG5cbiAgICAgICAgICBjb25zdCAkbmV3c0xpbmsgPSAkKCc8YT4nLCB7XG4gICAgICAgICAgICBjbGFzczogJ25ld3MtZmVlZC1saW5rIG5ld3MtcHJvbW8tbGluayBidG4tbGluaycsXG4gICAgICAgICAgICBocmVmOiAnJ1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgY29uc3QgJG5ld3NMaW5rQnV0dG9uID0gJCgnPGg0PicsIHtcbiAgICAgICAgICAgIGNsYXNzOiAnYnRuLWxpbmstdGV4dCByZWQnLFxuICAgICAgICAgICAgaHJlZjogJydcbiAgICAgICAgICB9KS50ZXh0KCdDb250aW51ZSBSZWFkaW5nJyk7XG5cbiAgICAgICAgICBjb25zdCAkbmV3c0xpbmtBcnJvdyA9ICQoJzxpbWc+Jywge1xuICAgICAgICAgICAgY2xhc3M6ICdidG4tbGluay1hcnJvdycsXG4gICAgICAgICAgICBzcmM6IGRhdGFbJ2Fycm93SW1hZ2VSZWQnXSxcbiAgICAgICAgICAgIGFsdDogJ2Fycm93LXJpZ2h0J1xuICAgICAgICAgIH0pLnRleHQoJ0NvbnRpbnVlIFJlYWRpbmcnKTtcblxuICAgICAgICAgICRuZXdzRmVlZEluZm8uYXBwZW5kKCRuZXdzVGl0bGUpO1xuICAgICAgICAgICRuZXdzRmVlZEluZm8uYXBwZW5kKCRuZXdzRGF0ZSk7XG4gICAgICAgICAgJG5ld3NGZWVkSW5mby5hcHBlbmQoJG5ld3NFeGVycHQpO1xuXG4gICAgICAgICAgJG5ld3NMaW5rLmFwcGVuZCgkbmV3c0xpbmtCdXR0b24pO1xuICAgICAgICAgICRuZXdzTGluay5hcHBlbmQoJG5ld3NMaW5rQXJyb3cpO1xuICAgICAgICAgICRuZXdzRmVlZEluZm8uYXBwZW5kKCRuZXdzTGluayk7XG5cblxuICAgICAgICAgICRuZXdzUHJvbW9Db250YWluZXIuYXBwZW5kKCRuZXdzRmVlZEluZm8pO1xuICAgICAgICAgICRzZWN0aW9uLmFwcGVuZCgkbmV3c1Byb21vQ29udGFpbmVyKTtcbiAgXG4gICAgICAgICAgdGhpcy5uZXdzRmVlZEl0ZW1zLmFwcGVuZCgkc2VjdGlvbik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBhZGRQYWdpbmF0aW9uKGN1cnJlbnRQYWdlLCB0b3RhbFBhZ2VzLCBkYXRhKSB7XG5cbiAgICAgIGlmIChjdXJyZW50UGFnZSA9PT0gMSAmJiB0b3RhbFBhZ2VzID09PSAxKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgXG4gICAgICBjb25zdCBwYWdlcyA9IFtdO1xuICBcbiAgICAgIGxldCBoYXNQcmV2ID0gZmFsc2U7XG4gICAgICBsZXQgaGFzTmV4dCA9IGZhbHNlO1xuICAgICAgbGV0IGhhc0xlZnRBcnJvdyA9IGZhbHNlO1xuICAgICAgbGV0IGhhc1JpZ2h0QXJyb3cgPSBmYWxzZTtcbiAgICAgIGNvbnN0IGRpZmYgPSAoY3VycmVudFBhZ2UgPT09IDEgfHwgY3VycmVudFBhZ2UgPT09IHRvdGFsUGFnZXMpID8gMiA6IDE7XG4gIFxuICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCB0b3RhbFBhZ2VzICsgMTsgKytpKSB7XG4gICAgICAgIGlmIChNYXRoLmFicyhpIC0gY3VycmVudFBhZ2UpIDw9IGRpZmYpIHtcbiAgICAgICAgICBwYWdlcy5wdXNoKHtcbiAgICAgICAgICAgICdpc0N1cnJlbnQnOiBpID09PSBjdXJyZW50UGFnZSxcbiAgICAgICAgICAgICd0ZXh0JzogaSxcbiAgICAgICAgICAgICdsYXJnZSc6IGZhbHNlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSBpZiAoaSA8IGN1cnJlbnRQYWdlICYmICFoYXNQcmV2KSB7XG4gICAgICAgICAgaWYgKGN1cnJlbnRQYWdlIC0gZGlmZiA+IDEpIHtcbiAgICAgICAgICAgIHBhZ2VzLnB1c2goe1xuICAgICAgICAgICAgICAnaXNDdXJyZW50JzogZmFsc2UsXG4gICAgICAgICAgICAgICd0ZXh0JzogJ2Fycm93LWxlZnQnLFxuICAgICAgICAgICAgICAnbGFyZ2UnOiBmYWxzZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBoYXNMZWZ0QXJyb3cgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBwYWdlcy5wdXNoKHtcbiAgICAgICAgICAgICdpc0N1cnJlbnQnOiBmYWxzZSxcbiAgICAgICAgICAgICd0ZXh0JzogJ1BSRVYnLFxuICAgICAgICAgICAgJ2xhcmdlJzogdHJ1ZVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGhhc1ByZXYgPSB0cnVlO1xuICAgICAgICB9IGVsc2UgaWYgKGkgPiBjdXJyZW50UGFnZSAmJiAhaGFzTmV4dCkge1xuICAgICAgICAgIHBhZ2VzLnB1c2goe1xuICAgICAgICAgICAgJ2lzQ3VycmVudCc6IGZhbHNlLFxuICAgICAgICAgICAgJ3RleHQnOiAnTkVYVCcsXG4gICAgICAgICAgICAnbGFyZ2UnOiB0cnVlXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgaGFzTmV4dCA9IHRydWU7XG4gICAgICAgICAgaWYgKGN1cnJlbnRQYWdlICsgZGlmZiA8IHRvdGFsUGFnZXMpIHtcbiAgICAgICAgICAgIHBhZ2VzLnB1c2goe1xuICAgICAgICAgICAgICAnaXNDdXJyZW50JzogZmFsc2UsXG4gICAgICAgICAgICAgICd0ZXh0JzogJ2Fycm93LXJpZ2h0JyxcbiAgICAgICAgICAgICAgJ2xhcmdlJzogZmFsc2VcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaGFzTGVmdEFycm93ID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgXG4gICAgICBjb25zdCAkZGl2UGFnaW5hdGlvbiA9ICQoJzxkaXY+Jywge1xuICAgICAgICBjbGFzczogJ25ld3MtZmVlZC1wYWdpbmF0aW9uJ1xuICAgICAgfSk7XG5cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFnZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgY29uc3QgcGFnZSA9IHBhZ2VzW2ldO1xuXG4gICAgICAgIGNvbnN0ICRwYWdpbmF0aW9uQmxvY2sgPSAkKCc8ZGl2PicsIHtcbiAgICAgICAgICBjbGFzczogJ25ld3MtZmVlZC1wYWdpbmF0aW9uLWJsb2NrJyArIChwYWdlLmlzQ3VycmVudCA/ICcgbmV3cy1mZWVkLXBhZ2luYXRpb24tYmxvY2stc2VsZWN0ZWQnIDogJycpICsgKHBhZ2UubGFyZ2UgPyAnIG5ld3MtZmVlZC1wYWdpbmF0aW9uLWJsb2NrLWxhcmdlJyA6ICcnKVxuICAgICAgICB9KVxuXG4gICAgICAgIGxldCAkcGFnaW5hdGlvbkNvbnRlbnQ7XG4gICAgICAgIGlmIChwYWdlLnRleHQgPT09ICdhcnJvdy1sZWZ0Jykge1xuICAgICAgICAgICRwYWdpbmF0aW9uQ29udGVudCA9ICQoJzxpbWc+Jywge1xuICAgICAgICAgICAgc3JjOiBkYXRhWydhcnJvd0ltYWdlTGVmdCddLFxuICAgICAgICAgICAgYWx0OiAnYXJyb3ctbGVmdCdcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIGlmIChwYWdlLnRleHQgPT09ICdhcnJvdy1yaWdodCcpIHtcbiAgICAgICAgICAkcGFnaW5hdGlvbkNvbnRlbnQgPSAkKCc8aW1nPicsIHtcbiAgICAgICAgICAgIHNyYzogZGF0YVsnYXJyb3dJbWFnZVJpZ2h0J10sXG4gICAgICAgICAgICBhbHQ6ICdhcnJvdy1yaWdodCdcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAkcGFnaW5hdGlvbkNvbnRlbnQgPSAkKCc8c3Bhbj4nLCB7XG4gICAgICAgICAgICBjbGFzczogJ25ld3MtZmVlZC1wYWdpbmF0aW9uLXRleHQnLFxuICAgICAgICAgICAgc3JjOiBkYXRhWydhcnJvd0ltYWdlUmlnaHQnXSxcbiAgICAgICAgICAgIGFsdDogJ2Fycm93LXJpZ2h0J1xuICAgICAgICAgIH0pLnRleHQocGFnZS50ZXh0KTtcbiAgICAgICAgfVxuXG4gICAgICAgICRwYWdpbmF0aW9uQmxvY2suY2xpY2soKCkgPT4ge1xuICAgICAgICAgIGxldCBwYWdlTm8gPSB0aGlzLnBhZ2U7XG4gICAgICAgICAgc3dpdGNoIChwYWdlLnRleHQpIHtcbiAgICAgICAgICAgIGNhc2UgJ05FWFQnOlxuICAgICAgICAgICAgICBwYWdlTm8rKztcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdQUkVWJzpcbiAgICAgICAgICAgICAgcGFnZU5vLS07XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnYXJyb3ctbGVmdCc6XG4gICAgICAgICAgICAgIHBhZ2VObyA9IDE7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnYXJyb3ctcmlnaHQnOlxuICAgICAgICAgICAgICBwYWdlTm8gPSB0aGlzLnRvdGFsO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgIHBhZ2VObyA9IHBhZ2UudGV4dFxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5nZXRBamF4UmVxdWVzdChwYWdlTm8sIHRoaXMubik7XG4gICAgICAgIH0pXG4gICAgICAgIFxuICAgICAgICAkcGFnaW5hdGlvbkJsb2NrLmFwcGVuZCgkcGFnaW5hdGlvbkNvbnRlbnQpO1xuICAgICAgICAkZGl2UGFnaW5hdGlvbi5hcHBlbmQoJHBhZ2luYXRpb25CbG9jaylcbiAgICAgIH1cbiAgXG4gICAgICB0aGlzLm5ld3NGZWVkSXRlbXMuYXBwZW5kKCRkaXZQYWdpbmF0aW9uKTtcbiAgICB9XG4gIH1cbiAgXG4gIGpRdWVyeS5mbi5uZXdzRmVlZC5Db25zdHJ1Y3RvciA9IE5ld3NGZWVkO1xufSk7IiwialF1ZXJ5KGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigkKSB7XG4gIGpRdWVyeS5mbi5zY2hlZHVsZUxpbmtzID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciAkdGhpcyA9IGpRdWVyeSh0aGlzKSxcbiAgICAgICAgICAgIGRhdGEgPSAkdGhpcy5kYXRhKCdzY2hlZHVsZS5saW5rcycpO1xuXG4gICAgICAgIGlmICghZGF0YSAmJiAhJHRoaXMuaGFzQ2xhc3MoJ2pzLXNjaGVkdWxlLWxpbmtzLWluaXQnKSkge1xuICAgICAgICAgICAgZGF0YSA9IG5ldyBTY2hlZHVsZUxpbmtzKCR0aGlzLCB0eXBlb2Ygb3B0aW9ucyA9PSAnb2JqZWN0JyAmJiBvcHRpb25zKTtcbiAgICAgICAgICAgICR0aGlzLmRhdGEoJ3NjaGVkdWxlLmxpbmtzJywgZGF0YSk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG5cbiAgY2xhc3MgU2NoZWR1bGVMaW5rcyB7XG4gICAgY29uc3RydWN0b3IoZWxlbWVudCwgb3B0aW9ucykge1xuICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcblxuICAgICAgdGhpcy5saW5rcyA9IFtdO1xuXG4gICAgICAkKCdib2R5JykuZmluZCgnLmpzLXNjaGVkdWxlJykuZWFjaCgoaW5kZXgsIGVsZW1lbnQpID0+IHtcbiAgICAgICAgY29uc3QgJHRoaXMgPSAkKGVsZW1lbnQpO1xuICAgICAgICBjb25zdCB0aXRsZSA9ICR0aGlzLmZpbmQoJy5qcy1zY2hlZHVsZS10aXRsZScpLnRleHQoKTtcbiAgICAgICAgY29uc3QgaWQgPSAnZHJhdy1zY2hlZHVsZS0nICsgaW5kZXg7XG4gICAgICAgICR0aGlzLmF0dHIoJ2lkJywgaWQpO1xuXG4gICAgICAgIHRoaXMubGlua3MucHVzaCh7XG4gICAgICAgICAgaWQ6ICcjJyArIGlkLFxuICAgICAgICAgIHRpdGxlOiB0aXRsZVxuICAgICAgICB9KVxuICAgICAgfSk7XG5cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5saW5rcy5sZW5ndGg7ICsraSkge1xuICAgICAgICBjb25zdCBsaW5rID0gdGhpcy5saW5rc1tpXTtcblxuICAgICAgICBjb25zdCAkbGlua0h0bWwgPSAkKCc8YT4nLCB7XG4gICAgICAgICAgY2xhc3M6ICdzY2hlZHVsZS1saW5rLWl0ZW0gY2xlYXInLFxuICAgICAgICAgIGhyZWY6IGxpbmsuaWQsXG4gICAgICAgIH0pLmFwcGVuZCgkKCc8cD4nLCB7XG4gICAgICAgICAgY2xhc3M6ICdzY2hlZHVsZS1saW5rLXRleHQgaW52ZXJ0ZWQnXG4gICAgICAgIH0pLnRleHQobGluay50aXRsZSkpO1xuXG4gICAgICAgIHRoaXMuZWxlbWVudC5hcHBlbmQoJGxpbmtIdG1sKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgXG4gIGpRdWVyeS5mbi5zY2hlZHVsZUxpbmtzLkNvbnN0cnVjdG9yID0gU2NoZWR1bGVMaW5rcztcbn0pOyIsImpRdWVyeShkb2N1bWVudCkucmVhZHkoKCQpID0+IHtcbiAgJC5mbi5ibG9ja0hlcm9UaW1lciA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICBjb25zdCAkdGhpcyA9IGpRdWVyeSh0aGlzKTtcbiAgICAgICAgbGV0IGRhdGEgPSAkdGhpcy5kYXRhKCdjdXJsaW5nLmJsb2NrLWhlcm8tdGltZXInKTtcblxuICAgICAgICBpZiAoIWRhdGEgJiYgISR0aGlzLmhhc0NsYXNzKCdqcy1ibG9jay1oZXJvLXRpbWVyLWluaXQnKSkge1xuICAgICAgICAgICAgZGF0YSA9IG5ldyBCbG9ja0hlcm9UaW1lcigkdGhpcywgdHlwZW9mIG9wdGlvbnMgPT0gJ29iamVjdCcgJiYgb3B0aW9ucyk7XG4gICAgICAgICAgICAkdGhpcy5kYXRhKCdjdXJsaW5nLmJsb2NrLWhlcm8tdGltZXInLCBkYXRhKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgY2xhc3MgQmxvY2tIZXJvVGltZXIge1xuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICBcbiAgICAgIGNvbnN0IHVuaXhUaW1lID0gdGhpcy5lbGVtZW50LmRhdGEoJ2RhdGUnKTtcblxuICAgICAgY29uc3QgY3VycmVudCA9IG5ldyBEYXRlKCk7XG4gICAgICBjb25zdCBzdGFydCA9IG5ldyBEYXRlKHVuaXhUaW1lICogMTAwMCk7XG5cbiAgICAgIGlmIChzdGFydCAtIGN1cnJlbnQgPiAwKSB7XG4gICAgICAgIHRoaXMudXBkYXRlVGltZShzdGFydCk7XG4gICAgICAgIHdpbmRvdy5zZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVRpbWUoc3RhcnQpO1xuICAgICAgICB9LCAxMDAwKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgdXBkYXRlVGltZShzdGFydCkge1xuICAgICAgICBjb25zdCBjdXJyZW50ID0gbmV3IERhdGUoKTtcbiAgICAgICAgY29uc3QgdG90YWxzZWNvbmRzID0gKHN0YXJ0IC0gY3VycmVudCkgLyAxMDAwO1xuICAgICAgICBjb25zdCBkYXlzID0gTWF0aC5mbG9vcih0b3RhbHNlY29uZHMgLyAoMzYwMCAqIDI0KSk7XG4gICAgICAgIGNvbnN0IGhvdXJzID0gTWF0aC5mbG9vcigodG90YWxzZWNvbmRzIC0gKGRheXMgKiAoMzYwMCAqIDI0KSkpIC8gMzYwMCk7XG4gICAgICAgIGNvbnN0IG1pbnV0ZXMgPSBNYXRoLmZsb29yKCh0b3RhbHNlY29uZHMgLSAoZGF5cyAqICgzNjAwICogMjQpKSAtIChob3VycyAqIDM2MDApKSAvIDYwKTtcbiAgICAgICAgY29uc3Qgc2Vjb25kcyA9IE1hdGguZmxvb3IodG90YWxzZWNvbmRzIC0gKGRheXMgKiAoMzYwMCAqIDI0KSkgLSAoaG91cnMgKiAzNjAwKSAtIChtaW51dGVzICogNjApKTtcblxuICAgICAgICB0aGlzLmVsZW1lbnQuZmluZCgnLmpzLWRheXMnKS50ZXh0KGRheXMpO1xuICAgICAgICB0aGlzLmVsZW1lbnQuZmluZCgnLmpzLWhvdXJzJykudGV4dChob3Vycyk7XG4gICAgICAgIHRoaXMuZWxlbWVudC5maW5kKCcuanMtbWludXRlcycpLnRleHQobWludXRlcyk7XG4gICAgICAgIHRoaXMuZWxlbWVudC5maW5kKCcuanMtc2Vjb25kcycpLnRleHQoc2Vjb25kcyk7XG4gICAgfVxuXG4gICAgaW5EYXlzKGQxLCBkMikge1xuICAgICAgdmFyIHQyID0gZDIuZ2V0VGltZSgpO1xuICAgICAgdmFyIHQxID0gZDEuZ2V0VGltZSgpO1xuXG4gICAgICByZXR1cm4gcGFyc2VJbnQoKHQyLXQxKS8oMjQqMzYwMCoxMDAwKSk7XG4gICAgfVxuXG4gICAgaW5XZWVrcyhkMSwgZDIpIHtcbiAgICAgICAgdmFyIHQyID0gZDIuZ2V0VGltZSgpO1xuICAgICAgICB2YXIgdDEgPSBkMS5nZXRUaW1lKCk7XG5cbiAgICAgICAgcmV0dXJuIHBhcnNlSW50KCh0Mi10MSkvKDI0KjM2MDAqMTAwMCo3KSk7XG4gICAgfVxuXG4gICAgaW5Nb250aHMoZDEsIGQyKSB7XG4gICAgICAgIHZhciBkMVkgPSBkMS5nZXRGdWxsWWVhcigpO1xuICAgICAgICB2YXIgZDJZID0gZDIuZ2V0RnVsbFllYXIoKTtcbiAgICAgICAgdmFyIGQxTSA9IGQxLmdldE1vbnRoKCk7XG4gICAgICAgIHZhciBkMk0gPSBkMi5nZXRNb250aCgpO1xuXG4gICAgICAgIHJldHVybiAoZDJNKzEyKmQyWSktKGQxTSsxMipkMVkpO1xuICAgIH1cblxuICAgIGluWWVhcnMoZDEsIGQyKSB7XG4gICAgICAgIHJldHVybiBkMi5nZXRGdWxsWWVhcigpLWQxLmdldEZ1bGxZZWFyKCk7XG4gICAgfVxuICB9XG4gIFxuICBqUXVlcnkuZm4uYmxvY2tIZXJvVGltZXIuQ29uc3RydWN0b3IgPSBCbG9ja0hlcm9UaW1lcjtcbn0pO1xuIiwiaW1wb3J0ICcuL3RlbXBsYXRlcy9DdXJsaW5nTmF2LmpzJztcbmltcG9ydCAnLi90ZW1wbGF0ZXMvQ3VybGluZ05hdk1vYmlsZS5qcyc7XG5pbXBvcnQgJy4vdGVtcGxhdGVzL0ltYWdlQ2Fyb3VzZWwuanMnO1xuaW1wb3J0ICcuL3RlbXBsYXRlcy9WaWRlb1BsYXllci5qcyc7XG5pbXBvcnQgJy4vdGVtcGxhdGVzL05ld3NGZWVkLmpzJztcbmltcG9ydCAnLi90ZW1wbGF0ZXMvU2NoZWR1bGVMaW5rcy5qcyc7XG5pbXBvcnQgJy4vYmxvY2tzL2Jsb2NrLXRpbWVyLmpzJztcblxualF1ZXJ5KGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigkKSB7XG4gICQoJy5qcy1jdXJsaW5nLW5hdicpLmN1cmxpbmdOYXYoKTtcbiAgJCgnLmpzLWN1cmxpbmctbmF2LW1vYmlsZScpLmN1cmxpbmdOYXZNb2JpbGUoKTtcbiAgJCgnLmpzLWhlcm8tY29udGFpbmVyJykubWVkaWFQbGF5ZXIoKTtcbiAgJCgnLmpzLXRpbWVyJykuYmxvY2tIZXJvVGltZXIoKTtcbiAgJCgnLmpzLWltYWdlLWNhcm91c2VsJykuaW1hZ2VDYXJvdXNlbCgpO1xuICAkKCcuanMtbmV3cy1mZWVkJykubmV3c0ZlZWQoKTtcbiAgJCgnLmpzLXNjaGVkdWxlLWxpbmtzJykuc2NoZWR1bGVMaW5rcygpO1xuICAkKCcudGV4dC1jYWxsb3V0cy1ncm91cCcpLnNsaWNrKHtcbiAgICAvL09wdGlvbnMgZ28gaGVyZSAtIGxvb2sgaW50byBicmVha3BvaW50cyAxMTcwcHhcbiAgfSk7XG59KTtcbiJdLCJuYW1lcyI6WyJqUXVlcnkiLCJkb2N1bWVudCIsInJlYWR5IiwiJCIsImZuIiwiY3VybGluZ05hdiIsIm9wdGlvbnMiLCJ0aGlzIiwiZWFjaCIsIiR0aGlzIiwiZGF0YSIsImhhc0NsYXNzIiwiQ3VybGluZ05hdiIsIl90eXBlb2YiLCJlbGVtZW50IiwibWVudUl0ZW1zIiwiZmluZCIsImluZGV4IiwibWVudV9uYW1lIiwiJHBvcHVwIiwiYWRkIiwibW91c2VlbnRlciIsImFkZENsYXNzIiwibW91c2VsZWF2ZSIsInJlbW92ZUNsYXNzIiwiQ29uc3RydWN0b3IiLCJjdXJsaW5nTmF2TW9iaWxlIiwiQ3VybGluZ05hdk1vYmlsZSIsInRvcE1lbnUiLCJoYW1idXJnZXIiLCJtZW51TGlzdHMiLCJwb3BvdXRzIiwiY2xpY2siLCJfdGhpcyIsInRvZ2dsZUNsYXNzIiwiaGlkZVBvcHVwc01vYmlsZSIsInNob3dQb3B1cE1vYmlsZSIsImUiLCJpZCIsImN1cnJlbnRUYXJnZXQiLCJwb3B1cHMiLCJsZW5ndGgiLCJpbWFnZUNhcm91c2VsIiwiSW1hZ2VDYXJvdXNlbCIsInNsaWRlciIsInNsaWRlck1vYmlsZSIsImlzQ2lyY3VsYXIiLCJuYXZNb2JpbGUiLCJwYWdpbmF0aW9uTW9iaWxlIiwiYXJyb3dQcmV2TW9iaWxlIiwiYXJyb3dOZXh0TW9iaWxlIiwibmF2IiwicGFnaW5hdGlvbiIsImFycm93UHJldiIsImFycm93TmV4dCIsIm9uIiwiZXZlbnQiLCJzbGljayIsImN1cnJlbnRTbGlkZSIsIm5leHRTbGlkZSIsImkiLCJ0ZXh0Iiwic2xpZGVDb3VudCIsImNoaWxkcmVuIiwiY2Fyb3VzZWxNb2JpbGUiLCJjYXJvdXNlbCIsImNlbnRlck1vZGUiLCJzbGlkZXNUb1Nob3ciLCJzbGlkZXNUb1Njcm9sbCIsImNlbnRlclBhZGRpbmciLCJpbmZpbml0ZSIsImFkZGVkQ2xhc3MiLCJtZWRpYVBsYXllciIsIlZpZGVvUGxheWVyIiwidmlkZW9QbGF5ZXIiLCJ2aWRlb0J0blBsYXkiLCJ2aWRlbyIsInZpZGVvT3ZlcmxheSIsImNvbnRlbnQiLCJwYXVzZWQiLCJwbGF5IiwicGF1c2UiLCJuZXdzRmVlZCIsIk5ld3NGZWVkIiwibmV3c0ZlZWRJdGVtcyIsInBhZ2UiLCJuIiwidG90YWwiLCJnZXRBamF4UmVxdWVzdCIsImNhdGVnb3J5IiwiY29uc29sZSIsImxvZyIsImFqYXgiLCJ0eXBlIiwidXJsIiwiY3VybGluZ19hamF4IiwiYWpheF91cmwiLCJkYXRhVHlwZSIsInN1Y2Nlc3MiLCJwb3N0cyIsImVtcHR5IiwiYWRkUG9zdHMiLCJhZGRQYWdpbmF0aW9uIiwicG9zdCIsIiRzZWN0aW9uIiwiJG5ld3NQcm9tb0NvbnRhaW5lciIsIiRuZXdzRmVlZFRodW1ibmFpbENvbnRhaW5lciIsIiRuZXdzRmVlZFRodW1ibmFpbCIsInNyYyIsImFsdCIsImFwcGVuZCIsIiRuZXdzRmVlZENhcHRpb25Db250YWluZXIiLCIkbmV3c0ZlZWRDYXB0aW9uV3JhcHBlciIsIm5ld3NGZWVkQ2FwdGlvbiIsIiRuZXdzRmVlZEluZm8iLCIkbmV3c1RpdGxlIiwiJG5ld3NEYXRlIiwiJG5ld3NFeGVycHQiLCIkbmV3c0xpbmsiLCJocmVmIiwiJG5ld3NMaW5rQnV0dG9uIiwiJG5ld3NMaW5rQXJyb3ciLCJjdXJyZW50UGFnZSIsInRvdGFsUGFnZXMiLCJwYWdlcyIsImhhc1ByZXYiLCJoYXNOZXh0IiwiZGlmZiIsIk1hdGgiLCJhYnMiLCJwdXNoIiwiJGRpdlBhZ2luYXRpb24iLCIkcGFnaW5hdGlvbkJsb2NrIiwiaXNDdXJyZW50IiwibGFyZ2UiLCIkcGFnaW5hdGlvbkNvbnRlbnQiLCJwYWdlTm8iLCJfdGhpczIiLCJzY2hlZHVsZUxpbmtzIiwiU2NoZWR1bGVMaW5rcyIsImxpbmtzIiwidGl0bGUiLCJhdHRyIiwibGluayIsIiRsaW5rSHRtbCIsImJsb2NrSGVyb1RpbWVyIiwiQmxvY2tIZXJvVGltZXIiLCJ1bml4VGltZSIsImN1cnJlbnQiLCJEYXRlIiwic3RhcnQiLCJ1cGRhdGVUaW1lIiwid2luZG93Iiwic2V0SW50ZXJ2YWwiLCJ0b3RhbHNlY29uZHMiLCJkYXlzIiwiZmxvb3IiLCJob3VycyIsIm1pbnV0ZXMiLCJzZWNvbmRzIiwiZDEiLCJkMiIsInQyIiwiZ2V0VGltZSIsInQxIiwicGFyc2VJbnQiLCJkMVkiLCJnZXRGdWxsWWVhciIsImQyWSIsImQxTSIsImdldE1vbnRoIl0sIm1hcHBpbmdzIjoib29CQUFBQSxPQUFPQyxVQUFVQyxNQUFNLFNBQVNDLEdBQzlCSCxPQUFPSSxHQUFHQyxXQUFhLFNBQVNDLFVBQ3ZCQyxLQUFLQyxLQUFLLGVBQ1RDLEVBQVFULE9BQU9PLE1BQ2ZHLEVBQU9ELEVBQU1DLEtBQUssZUFFakJBLEdBQVNELEVBQU1FLFNBQVMseUJBQ3pCRCxFQUFPLElBQUlFLEVBQVdILEVBQXlCLFVBQWxCSSxRQUFPUCxJQUF1QkEsR0FDM0RHLEVBQU1DLEtBQUssY0FBZUEsV0FNOUJFLEVBQ0osV0FBWUUsRUFBU1IsZ0NBQ2RRLFFBQVVBLE9BQ1ZDLFVBQVlSLEtBQUtPLFFBQVFFLEtBQUsscUNBRTlCRCxVQUFVUCxLQUFLLFNBQUNTLEVBQU9ILE9BQ3BCTCxFQUFRTixFQUFFVyxHQUNWSSxFQUFZVCxFQUFNQyxLQUFLLFFBRXZC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
